<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>IchiFund - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">IchiFund</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-W12-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>IchiFund - Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/logo.png" alt="logo">
</div>
</div>
<div class="paragraph">
<p>By: <code>Team AY1920S1-CS2103T-W12-4</code>      Since: <code>Sep 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#setting-up">2. Setting Up</a></li>
<li><a href="#design">3. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">3.1. Architecture</a></li>
<li><a href="#Design-Ui">3.2. UI Component</a></li>
<li><a href="#Design-Logic">3.3. Logic Component</a></li>
<li><a href="#Design-Model">3.4. Model Component</a></li>
<li><a href="#Design-Storage">3.5. Storage Component</a></li>
<li><a href="#Design-Commons">3.6. Common Classes</a></li>
</ul>
</li>
<li><a href="#implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#global-features">4.1. Global Features</a></li>
<li><a href="#transactions">4.2. Transactions</a></li>
<li><a href="#repeaters">4.3. Repeaters</a></li>
<li><a href="#budget">4.4. Budget</a></li>
<li><a href="#analytics">4.5. Analytics</a></li>
<li><a href="#demo-use-this-as-template-for-your-section">4.6. [Demo] Use this as template for your section</a></li>
<li><a href="#logging">4.7. Logging</a></li>
<li><a href="#Implementation-Configuration">4.8. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">5. Documentation</a></li>
<li><a href="#testing">6. Testing</a></li>
<li><a href="#dev-ops">7. Dev Ops</a></li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#product-survey">Appendix F: Product Survey</a></li>
<li><a href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">G.1. Launch and Shutdown</a></li>
<li><a href="#deleting-a-person">G.2. Deleting a person</a></li>
<li><a href="#saving-data">G.3. Saving data</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>IchiFund is a financial tracking application that manages transactions, loans, as well as budgets.</p>
</div>
<div class="paragraph">
<p>Shown below is the GUI of IchiFund:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/Ui.png" alt="Ui">
</div>
</div>
<div class="paragraph">
<p>This document serves to give an introduction to the architecture of IchiFund for developers who wish to
modify the software, or simply to understand how it works. We describe the high-level architecture, and also delve into
important details of the implementation of each feature.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">2. Setting Up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="SettingUp.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">3. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">3.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureDiagram.png" alt="ArchitectureDiagram">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above explains the high-level design of the App. Given below is a quick overview of each component.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.drawio</code> files used to create diagrams in this document can be found in the <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/docs/diagrams/">diagrams</a> folder.
To edit, go to  and import the <code>.drawio</code> files in the repository.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Main</code> has two classes called <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/src/main/java/seedu/ichifund/Main.java"><code>Main</code></a> and <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/src/main/java/seedu/ichifund/MainApp.java"><code>MainApp</code></a>. It is responsible for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#Design-Commons"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LogsCenter</code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the App consists of four components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><strong><code>UI</code></strong></a>: The UI of the App.</p>
</li>
<li>
<p><a href="#Design-Logic"><strong><code>Logic</code></strong></a>: The command executor.</p>
</li>
<li>
<p><a href="#Design-Model"><strong><code>Model</code></strong></a>: Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><strong><code>Storage</code></strong></a>: Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code>Logic</code> component (see the class diagram given below) defines it&#8217;s API in the <code>Logic.java</code> interface and exposes its functionality using the <code>LogicManager.java</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 2. Class Diagram of the Logic Component</div>
</div>
<h4 id="how-the-architecture-components-interact-with-each-other" class="discrete">How the architecture components interact with each other</h4>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact with each other for the scenario where the user issues the command <code>delete 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureSequenceDiagram.png" alt="ArchitectureSequenceDiagram">
</div>
<div class="title">Figure 3. Component interactions for <code>delete 1</code> command</div>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">3.2. UI Component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram">
</div>
<div class="title">Figure 4. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/src/main/java/seedu/ichifund/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that is made up of parts e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>TransactionListPanel</code>, <code>StatusBarFooter</code> etc. All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder. For example, the layout of the <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/src/main/java/seedu/ichifund/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code>Logic</code> component.</p>
</li>
<li>
<p>Listens for changes to <code>Model</code> data so that the UI can be updated with the modified data.</p>
</li>
<li>
<p>Listens for changes to the index of the <code>FeatureParser</code> used by the <code>Logic</code> component to change tabs.</p>
</li>
<li>
<p>Sets the <code>FeatureParser</code> used by the <code>Logic</code> component when the user manually changes tabs.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">3.3. Logic Component</a></h3>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 5. Structure of the Logic Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/AY1920S1-CS2103T-W12-4/main/src/main/java/seedu/ichifund/logic/Logic.java"><code>Logic.java</code></a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Logic</code> uses the <code>IchiFundParser</code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code>Command</code> object which is executed by the <code>LogicManager</code>.</p>
</li>
<li>
<p>The command execution can affect the <code>Model</code> (e.g. adding a person).</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>Ui</code>.</p>
</li>
<li>
<p>In addition, the <code>CommandResult</code> object can also instruct the <code>Ui</code> to perform certain actions, such as displaying help to the user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Given below is the Sequence Diagram for interactions within the <code>Logic</code> component for the <code>execute("delete 1")</code> API call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteSequenceDiagram.png" alt="DeleteSequenceDiagram">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code>delete 1</code> Command</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">3.4. Model Component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram">
</div>
<div class="title">Figure 7. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/src/main/java/seedu/ichifund/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the IchiFund data (in e.g. <code>UniqueBudgetList</code>)</p>
</li>
<li>
<p>keeps track of a <code>TransactionContext</code> object that represents the current filter applied to <code>TransactionList</code>.</p>
</li>
<li>
<p>exposes an unmodifiable version of the <code>TransactionContext</code> object (as <code>ObservableValue&lt;TransactionContext&gt;</code>) that can be observed by the UI.</p>
</li>
<li>
<p>exposes unmodifiable lists (e.g. <code>ObservableList&lt;Transaction&gt;</code>) that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">3.5. Storage Component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram">
</div>
<div class="title">Figure 8. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/src/main/java/seedu/ichifund/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save the IchiFund data in json format and read it back.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">3.6. Common Classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.ichifund.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">4. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="global-features"><a class="link" href="#global-features">4.1. Global Features</a></h3>
<div class="sect3">
<h4 id="separate-parsing-and-tab-switching"><a class="link" href="#separate-parsing-and-tab-switching">4.1.1. Separate Parsing and Tab Switching</a></h4>
<div class="paragraph">
<p>In IchiFund, we separate the features by tabs. This is illustrated in the image below, which displays the five
tabs of IchiFund, with the "Transaction" tab selected:</p>
</div>
<div id="fig-FeatureTabs" class="imageblock">
<div class="content">
<img src="images/FeatureTabs.png" alt="FeatureTabs">
</div>
<div class="title">Figure 9. Feature Tabs in IchiFund</div>
</div>
<div class="paragraph">
<p>The parsing of commands for each feature is done separately, tied to their respective tabs.
In other words, the commands specific to each feature can only be recognised when the feature is selected as the
current tab.
This allows for the overloading of commands across different features, reducing the complexity of commands for users.</p>
</div>
<div class="sect4">
<h5 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h5>
<div class="paragraph">
<p>There are two aspects to consider in implementing separate parsing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Detecting when the user switches tabs and communicating this to the <code>Logic</code> component</p>
</li>
<li>
<p>Determining how to parse commands on the end of <code>Logic</code> given which tab is selected.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In our implementation, we first separate the parsing of commands for different features by delegating them to their
respective <code>FeatureParser</code> parsers. The main parser, <code>IchiFundParser</code>, keeps track of all <code>FeatureParser</code> objects, as
well as the <code>FeatureParser</code> that is currently in use.</p>
</div>
<div class="paragraph">
<p>This is illustrated in the object diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ParserObjectDiagram.png" alt="ParserObjectDiagram">
</div>
<div class="title">Figure 10. Object Diagram for Parser Classes in IchiFund</div>
</div>
<div class="paragraph">
<p>When <code>IchiFundParser</code> parses a command, it first checks whether it is a global command (e.g. <code>help</code>, <code>exit</code>).
Otherwise, it passes the command to <code>currentParserManager</code>, which checks if it is a valid command, and passes the
arguments to the appropriate <code>Parser</code>.</p>
</div>
<div class="paragraph">
<p>What remains is determining when to change <code>currentParserManager</code>. Here, we support 3 modes of tab switching:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Specific commands (CLI)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Users can switch between tabs using specific commands (<code>tx</code>, <code>rep</code>, <code>budget</code>, <code>loan</code>, <code>analytics</code>).</p>
</div>
<div class="paragraph">
<p>These commands are global commands that are directly recognised by <code>IchiFundParser</code>, which changes
<code>currentFeatureParser</code> and the index stored.</p>
</div>
<div class="paragraph">
<p>Much like the <code>Model</code> data, <code>MainWindow</code> listens to changes to the index through <code>FeatureParserIndexListener</code>.
Whenever the value of the index changes, the listener triggers an event to change the tab throw the <code>invalidated()</code>
method shown in the code snippet below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ListenerCodeSnippet.png" alt="ListenerCodeSnippet">
</div>
</div>
<div class="paragraph">
<p>The <code>InvalidationListener</code> constructed from the above code is added to an <code>ObservableValue</code> in <code>MainWindow</code>
that tracks the index of the current <code>FeatureParser</code> used, and changes to the appropriate tab using
the value of the index stored.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Shortcut keys (GUI)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Users can also switch tabs using the shortcut keys <code>Ctrl + 1</code> to <code>Ctrl + 5</code>. Upon using the shortcut keys,
the following handler is triggered:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/MainWindowShortcutKeyCodeSnippet.png" alt="MainWindowShortcutKeyCodeSnippet">
</div>
</div>
<div class="paragraph">
<p>When <code>handleShowTransaction()</code> is called, <code>currentFeatureParser</code> in <code>IchiFundParser</code>, is set to
<code>TransactionFeatureParser</code>, which has a <code>tabIndex</code> of zero. Other handler methods are similar to
<code>handleShowTransaction</code>, with the only difference being the index passed to <code>Logic</code>.</p>
</div>
<div class="paragraph">
<p>The control flow of <code>handleShowTransaction()</code> is illustrated with more details in the sequence diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SetFeatureParserSequenceDiagram.png" alt="SetFeatureParserSequenceDiagram">
</div>
<div class="title">Figure 11. Sequence Diagram for changing <code>FeatureParser</code></div>
</div>
<div class="paragraph">
<p>As the different <code>FeatureParser</code> objects have different values for <code>tabIndex</code>, a different
index is passed, and a different <code>FeatureParser</code> is set as <code>currentFeatureParser</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
After the handler method is run, the change in <code>IchiFundParser</code> is also detected by
<code>InvalidationListener</code>, which results in a tab switch similar to how the specific commands would.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
For developers who wish to add more features to IchiFund, care has to be taken in ensuring that the indices of the
<code>FeatureParser</code> objects matches that of the tabs, as well as its index in <code>featureParsers</code>.
In our current implementation, we do not use enum for the indices due to the small scale of usage.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Clicking of tabs (GUI)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Users can switch tabs by clicking on the tabs shown in <a href="#fig-FeatureTabs">Figure 9, &#8220;Feature Tabs in IchiFund&#8221;</a>.
This triggers a handler, shown in the following code snippet:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/MainWindowMouseCodeSnippet.png" alt="MainWindowMouseCodeSnippet">
</div>
</div>
<div class="paragraph">
<p>The control flow for this handler is similar to that of the shortcut keys.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h5>
<div class="paragraph">
<p>In designing the specific commands for tab switching, we considered an alternative implementation for
passing information about tab switching to <code>Ui</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ui</code> detects change through an <code>InvalidationListener</code> (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: <code>Logic</code> does not need to be aware of <code>Ui</code></p>
<p class="tableblock"><strong>Cons</strong>: Requires greater understanding of JavaFX API to implement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Logic</code> directly calls <code>Ui</code> whenever the specific command is made.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Easy to implement</p>
<p class="tableblock"><strong>Cons</strong>: Creates a dependency from <code>Logic</code> to <code>Ui</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While Alternative 2 is much simpler to implement, we chose Alternative 1
as we prioritised preserving the independence of <code>Logic</code> from <code>Ui</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tasks"><a class="link" href="#tasks">4.1.2. Tasks</a></h4>
<div class="paragraph">
<p>Some models in IchiFund must be refreshed after a command is executed.
For instance, when a new <code>Transaction</code> is added, all <code>Budget</code> must be recomputed.
<code>Task</code> can be used to facilitate such updates.</p>
</div>
<div class="sect4">
<h5 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h5>
<div class="paragraph">
<p>This feature is managed by <code>TaskManager</code>.
The role of <code>TaskManager</code> is to maintain a list of all active <code>Task</code>.</p>
</div>
<div class="paragraph">
<p>The <code>LogicManager</code> holds an instance of the <code>TaskManager</code>.
When the <code>LogicManager#execute()</code> is called, the following chain of operations occurs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After <code>Command#execute()</code> is completed, <code>TaskManager#executeAll()</code> is called.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/TaskCode.png" alt="TaskCode">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p><code>TaskManager#executeAll()</code> will iterate through all active <code>Task</code> and call the respective <code>Task#execute()</code> method.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="transactions"><a class="link" href="#transactions">4.2. Transactions</a></h3>
<div class="sect3">
<h4 id="overviewtx"><a class="link" href="#overviewtx">4.2.1. Overview of the Transactions Model</a></h4>
<div class="sect4">
<h5 id="implementation-4"><a class="link" href="#implementation-4">Implementation</a></h5>
<div class="paragraph">
<p>The transactions in IchiFund are represented using the <code>Transaction</code> class. While users are able to edit transactions,
objects of the <code>Transaction</code> class are immutable in the internal structure. The following class diagram summarizes
the details of the <code>Transaction</code> class:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/TransactionClassDiagram.png" alt="TransactionClassDiagram">
</div>
<div class="title">Figure 12. Class Diagram from Transactions Model</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We differentiate income items from expenditure items using the <code>TransactionType</code> field, which accepts
two unique string values, <code>"in"</code> for income and <code>"exp"</code> for expenditure in the constructor.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition, the list of transactions is subject to a filter created by an immutable <code>TransactionContext</code>.
<code>TransactionContext</code> keeps track of the <code>Month</code>, <code>Year</code>, <code>Category</code> (optional) and <code>TransactionType</code> (optional) in the current filter.
Naturally, this implies that a filter for <code>Month</code> and <code>Year</code> is always applied to the list of transactions.
The <code>TransactionContext</code> is also used to fill in optional fields that are not specified by the user when adding transactions.</p>
</div>
<div class="paragraph">
<p>We summarise the role of the <code>TransactionContext</code> class in the following conceptual class diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/TransactionContextOodm.png" alt="TransactionContextOodm">
</div>
<div class="title">Figure 13. Conceptual Class Diagram of <code>TransactionContext</code></div>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h5>
<div class="paragraph">
<p>We encountered two major decisions when implementing our model for transactions. Here, we discuss the alternatives
we considered, as well as the rationale for the current implementation.</p>
</div>
<div class="sect5">
<h6 id="multiplicity-of-code-category-code"><a class="link" href="#multiplicity-of-code-category-code">Multiplicity of <code>Category</code></a></h6>
<div class="paragraph">
<p>Currently, each <code>Transaction</code> object can have only one <code>Category</code> object associated to it. In the problem domain, it is
also natural to think of transactions being associated with multiple categories. The table below summarizes the pros and cons of each choice.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each <code>Transaction</code> only has one <code>Category</code>  (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Simple to implement. No overlaps in apportionment of expenditure to categories</p>
<p class="tableblock"><strong>Cons</strong>: Less flexibility for the user to classify transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each <code>Transaction</code> can have more than one <code>Category</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: More flexibility for the user to classify transactions</p>
<p class="tableblock"><strong>Cons</strong>: Overlaps in apportionment of expenditure to categories</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While both implementations are visible, we chose to only have one <code>Category</code> associated to each
<code>Transaction</code> as the absence of overlaps in expenditure allows us to eventually implement a clean visual
breakdown of expenditure by category in the future.
Developers, however, are welcome to implement an additional <code>Tags</code> field for <code>Transaction</code> objects, to allow
for multiple associations.</p>
</div>
</div>
<div class="sect5">
<h6 id="differentiating-between-income-and-expenditure"><a class="link" href="#differentiating-between-income-and-expenditure">Differentiating between Income and Expenditure</a></h6>
<div class="paragraph">
<p>Currently, we differentiate income items from expenditure items using the <code>TransactionType</code> field in
<code>Transaction</code>. We considered the natural alternative of using inheritance as well.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the field <code>TransactionType</code> (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Fits the parsing methods used in the current architecture well</p>
<p class="tableblock"><strong>Cons</strong>: More tedious to code for different behaviours for income and expenditure items in the future</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using inheritance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Allows for polymorphism of methods from a <code>Transaction</code> interface in the long run</p>
<p class="tableblock"><strong>Cons</strong>: Requires either the use of separate commands, or asymmetry in the parsing of command arguments</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While it was a tough decision, we eventually decided to use <code>TransactionType</code> for differentiation as we valued maintaining the
symmetry in the implementation of parsing in our current architecture, and we did not want to use separate commands for adding transactions.
Furthermore, we did not envision further use of polymorphism in future developments. Hence the benefit of using inheritance becomes
very limited.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="filtertx"><a class="link" href="#filtertx">4.2.2. Filtering Transactions</a></h4>
<div class="paragraph">
<p>The filter transactions feature allows the user to change the filter for the list of transactions.
As described in <a href="#Design-Logic">Section 3.3, &#8220;Logic Component&#8221;</a>, this feature is facilitated by <code>TransactionFeatureParser</code>, <code>FilterTransactionCommandParser</code>, and <code>FilterTransactionCommand</code>.
The arguments supported by this feature are: <code>Month</code>, <code>Year</code>, <code>Category</code> and <code>TransactionType</code>. All of these arguments are
optional, but the user has to input at least one argument for the command to be valid.</p>
</div>
<div class="sect4">
<h5 id="implementation-5"><a class="link" href="#implementation-5">Implementation</a></h5>
<div class="paragraph">
<p>We omit the details of parsing facilitated by <code>IchiFundParser</code>, <code>TransactionFeatureParser</code> and <code>FilterTransactionCommandParser</code>. Instead,
we immediately delve into the details of <code>FilterTransactionCommand#execute</code>.</p>
</div>
<div class="paragraph">
<p>As prefaced in <a href="#overviewtx">Section 4.2.1, &#8220;Overview of the Transactions Model&#8221;</a>, the <code>filter</code> command interacts with <code>TransactionContext</code> to filter the list of
transactions exposed to the UI component.
Following the creation of <code>FilterTransactionCommand</code>, the execution of the command results
in the following chain of events:</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: <code>FilterTransactionCommand</code> retrieves the current <code>TransactionContext</code> from the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>FilterTransactionCommand</code> creates a new <code>TransactionContext</code>, facilitated by <code>TransactionContextBuilder</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>FilterTransactionCommand</code> sets the new context in model as the newly created <code>TransactionContext</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>ModelManager</code> retrieves a <code>Predicate&lt;Transaction&gt;</code> from the new <code>TransactionContext</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>ModelManager</code> filters the list of transactions using the <code>Predicate&lt;Transaction&gt;</code>.</p>
</div>
<div class="paragraph">
<p>The above sequence of events is shown in greater detail in the following sequence diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/FilterTransactionSequenceDiagram.png" alt="FilterTransactionSequenceDiagram">
</div>
<div class="title">Figure 14. Sequence Diagram for <code>FilterTransactionCommand</code></div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="addtx"><a class="link" href="#addtx">4.2.3. Adding Transactions</a></h4>
<div class="paragraph">
<p>The add transaction feature allows the user to add a transaction into IchiFund. It further ensures that the current
filter of the list of transactions is changed to allow the user to view the transaction.
As described in <a href="#Design-Logic">Section 3.3, &#8220;Logic Component&#8221;</a>, this feature is facilitated by <code>TransactionFeatureParser</code>, <code>AddTransactionCommandParser</code>, and <code>AddTransactionCommand</code>.
The arguments supported by this feature are: <code>Description</code>, <code>Amount</code>, <code>Category</code>, <code>Day</code>, <code>Month</code>, <code>Year</code> and <code>TransactionType</code>.
Of these arguments, only <code>Description</code> and <code>Amount</code> are mandatory.</p>
</div>
<div class="sect4">
<h5 id="implementation-6"><a class="link" href="#implementation-6">Implementation</a></h5>
<div class="paragraph">
<p>We omit the details of parsing facilitated by <code>IchiFundParser</code>, <code>TransactionFeatureParser</code> and <code>AddTransactionCommandParser</code>. Instead,
we immediately delve into the details of the <code>AddTransactionCommand#execute</code>.</p>
</div>
<div class="paragraph">
<p>As prefaced in <a href="#overviewtx">Section 4.2.1, &#8220;Overview of the Transactions Model&#8221;</a>, <code>AddTransactionCommand</code> interacts with <code>TransactionContext</code> to generate
a <code>Transaction</code> to be added to the model.
The execution of an <code>AddTransactionCommand</code> results in the following sequence of events:</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: <code>AddTransactionCommand</code> retrieves the current <code>TransactionContext</code> from the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>AddTransactionCommand</code> generates a new <code>Transaction</code> based on the arguments and <code>TransactionContext</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>AddTransactionCommand</code> adds the new <code>Transaction</code> to the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>ModelManager</code> automatically sorts the list of transactions.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>AddTransactionCommand</code> calls model to execute <code>updateTransactionContext</code></p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>: <code>ModelManager</code> updates <code>TransactionContext</code> such that the new <code>Transaction</code> is shown.</p>
</div>
<div class="paragraph">
<p>To create a new <code>Transaction</code>, <code>AddTransactionCommand</code> fills in the missing arguments using
values obtained from <code>TransactionContext</code>, or default values. This is illustrated in the activity diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddTransactionActivityDiagram.png" alt="AddTransactionActivityDiagram">
</div>
<div class="title">Figure 15. Activity Diagram for Optional Arguments in <code>AddTransactionCommand</code></div>
</div>
<div class="paragraph">
<p>The above activity diagram shows the decision flow for a general optional argument. However, some optional
arguments are never stored in <code>TransactionContext</code>, and some are always stored. The
following table describes the particular details for each optional argument.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 38%;">
<col style="width: 42%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Argument</th>
<th class="tableblock halign-left valign-top">Stored in <code>TransactionContext</code>?</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Day</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Never</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current day of month from system time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Month</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not applicable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Year</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not applicable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Category</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sometimes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uncategorised</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sometimes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expenditure</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>After adding the <code>Transaction</code>, a new <code>TransactionContext</code> is created such that the new <code>Transaction</code> is displayed
on the list of transactions. Specifically, the <code>Month</code> and <code>Year</code> filters are set to the <code>Month</code> and <code>Year</code> of the
new <code>Transaction</code> respectively, and the <code>Category</code> and <code>TransactionType</code> filters are removed if necessary.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h5>
<div class="paragraph">
<p>In implementing the <code>add</code> and <code>filter</code> commands, we had to decide on the underlying data structure for the list of
transactions. Currently, we store all transactions in a single iterable list. Given the use of a mandatory
month and year filter, a natural alternative would be to store each month&#8217;s worth of transactions in a
list, and stores these lists in another list, forming a multi-level list.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storing all transactions in a single list (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Suits existing architecture of software very well, easy to implement</p>
<p class="tableblock"><strong>Cons</strong>: Slow performance anticipated with large number of transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storing transactions in multi-level list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Faster performance, more scalable</p>
<p class="tableblock"><strong>Cons</strong>: May disrupt abstractions in current architecture, more time needed to implement</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ultimately, we decided to avoid disrupting the existing architecture, and instead focus our efforts on
developing more features to better address the needs of the target user profile.</p>
</div>
<div class="paragraph">
<p>However, moving forward, we recognise that the current architecture severely lacks scalability,
especially given the constantly growing number of transactions we expect users to create. Hence, we eventually
intend to switch to a multi-level list.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Developers who choose to change the underlying data structures should bear in mind that many other components (Repeaters, Budgets, Analytics)
depend on the model of Transactions, and care must be taken to ensure that these components still work well.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="editing-transactions"><a class="link" href="#editing-transactions">4.2.4. Editing Transactions</a></h4>
<div class="paragraph">
<p>The edit transaction feature allows the user to edit a transaction into IchiFund. It further ensures that the current
filter of the list of transactions is changed to allow the user to view the transaction.
As described in <a href="#Design-Logic">Section 3.3, &#8220;Logic Component&#8221;</a>, this feature is facilitated by <code>TransactionFeatureParser</code>, <code>EditTransactionCommandParser</code>, and <code>EditTransactionCommand</code>.
The arguments supported by this feature are <code>Index</code>, <code>Description</code>, <code>Amount</code>, <code>Category</code>, <code>Day</code>, <code>Month</code>,
<code>Year</code> and <code>TransactionType</code>. Of these arguments, only <code>Index</code> is mandatory, but at least one of the optional arguments
(which are fields to be edited) need to be present.</p>
</div>
<div class="sect4">
<h5 id="implementation-7"><a class="link" href="#implementation-7">Implementation</a></h5>
<div class="paragraph">
<p>The execution of the <code>edit</code> command is similar to the delete commands in other components. The following sequence of steps
describes the behaviour of <code>EditTransactionCommand</code> at each step:</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: The user executes <code>edit 2 de/Lunch</code> to change the description of the <code>Transaction</code> in the 2nd index to "Lunch".</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>LogicManager</code> uses <code>IchiFundParser#parserCommand()</code> to parse the input from the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>IchiFundParser</code> redirects the input to <code>TransactionFeatureParser</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>TransactionFeatureParser</code> determines which command is being used and creates the respective <code>EditTransactionCommandParser</code> parser with the user&#8217;s input as an argument.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>EditTransactionCommandParser</code> does a validation check on the user&#8217;s input.</p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>: <code>EditTransactionCommandParser</code> creates an <code>EditTransactionDescriptor</code> which contains the updated description information provided by the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 7</strong>: <code>EditTransactionCommandParser</code> creates and returns an <code>EditTransactionCommand</code> with the <code>Index</code> and <code>EditTransactionDescriptor</code> as arguments.</p>
</div>
<div class="paragraph">
<p><strong>Step 8</strong>: <code>LogicManager</code> calls <code>EditTransactionCommand#execute()</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 9</strong>: <code>EditTransactionCommand</code> checks if the <code>Index</code> is too large, and retrieves the appropriate <code>Transaction</code> to be deleted from the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 10</strong>: <code>EditTransactionCommand</code> checks that the <code>Transaction</code> is not created from a <code>Repeater</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 11</strong>: <code>EditTransactionCommand</code> creates a new <code>Transaction</code> using the original <code>Transaction</code> and the <code>EditTransactionDescriptor</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 12</strong>: <code>EditTransactionCommand</code> replaces the original <code>Transaction</code> in the <code>Model</code> with the newly created <code>Transaction</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 13</strong>: <code>EditTransactionCommand</code> calls <code>Model#updateTransactionContext</code> with the newly created <code>Transaction</code> as an argument.</p>
</div>
<div class="paragraph">
<p><strong>Step 14</strong>: <code>EditTransactionCommand</code> returns a <code>CommandResult</code> to the <code>LogicManager</code> which is returned back to the user.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="deleting-transactions"><a class="link" href="#deleting-transactions">4.2.5. Deleting Transactions</a></h4>
<div class="paragraph">
<p>The delete transaction feature allows the user to delete a transaction into IchiFund using its index in the displayed list.
As described in <a href="#Design-Logic">Section 3.3, &#8220;Logic Component&#8221;</a>, this feature is facilitated by <code>TransactionFeatureParser</code>, <code>DeleteTransactionCommandParser</code>, and <code>DeleteTransactionCommand</code>.
The delete command takes one argument, <code>Index</code>.</p>
</div>
<div class="sect4">
<h5 id="implementation-8"><a class="link" href="#implementation-8">Implementation</a></h5>
<div class="paragraph">
<p>The execution of the <code>delete</code> command is similar to the delete commands in other components. The following sequence of steps
describes the behaviour of <code>DeleteTransactionCommand</code> at each step:</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: The user executes <code>delete 2</code> to delete the <code>Transaction</code> in the 2nd index.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>LogicManager</code> uses <code>IchiFundParser#parserCommand()</code> to parse the input from the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>IchiFundParser</code> redirects the input to <code>TransactionFeatureParser</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>TransactionFeatureParser</code> determines which command is being used and creates the respective <code>DeleteTransactionCommandParser</code> parser with the user&#8217;s input as an argument.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>DeleteTransactionCommandParser</code> does a validation check on the user&#8217;s input before creating and returning a <code>DeleteRepeaterCommand</code> with desired <code>Index</code> as an argument.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>LogicManager</code> calls <code>DeleteTransactionCommand#execute()</code></p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>: <code>DeleteTransactionCommand</code> checks if the <code>Index</code> is too large, and retrieves the appropriate <code>Transaction</code> to be deleted from the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 7</strong>: <code>DeleteTransactionCommand</code> checks that the <code>Transaction</code> is not created from a <code>Repeater</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 8</strong>: <code>DeleteTransactionCommand</code> deletes the <code>Transaction</code> from the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 9</strong>: <code>DeleteTransactionCommand</code> returns a <code>CommandResult</code> to the <code>LogicManager</code> which is returned back to the user.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="repeaters"><a class="link" href="#repeaters">4.3. Repeaters</a></h3>
<div class="sect3">
<h4 id="adding-repeater"><a class="link" href="#adding-repeater">4.3.1. Adding Repeater</a></h4>
<div class="paragraph">
<p>This feature allows the user to add a repeater in IchiFund. Adding a repeater also creates the transactions associated with the added repeater.</p>
</div>
<div class="sect4">
<h5 id="implementation-9"><a class="link" href="#implementation-9">Implementation</a></h5>
<div class="paragraph">
<p>The <code>add</code> command is facilitated by the Logic and Model components of the application. The process of executing an <code>add</code> command is illustrated in the figure below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddRepeaterSequenceDiagram.png" alt="AddRepeaterSequenceDiagram">
</div>
</div>
<div class="paragraph">
<p>Below is an example usage scenario of how <code>add</code> behaves at each step.</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: In the repeaters tab, the user executes <code>add de/Phone bills a/42.15 c/Utilities ty/exp so/3 eo/2 sd/1 sm/1 sy/2019 ed/31 em/12 ey/2019</code> to add a repeater for phone bills with an amount of $42.15 on the third and second last day of every month between 1st January 2019 and 31st December 2019.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>LogicManager</code> uses <code>IchiFundParser#parserCommand()</code> to parse the input from the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>IchiFundParser</code> determines which command is being used and creates the respective <code>AddRepeaterCommandParser</code> parser with the user&#8217;s input as an argument.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>AddRepeaterCommandParser</code> does a validation check on the user&#8217;s input.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>AddRepeaterCommandParser</code> creates and returns an <code>AddRepeaterCommand</code> with the desired <code>Repeater</code> as an arugment.</p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>: <code>LogicManager</code> calls <code>AddRepeaterCommand#execute()</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 7</strong>: <code>AddRepeaterCommand</code> checks for the following constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>Repeater</code> to be added does not already exist in the <code>Model</code>.</p>
</li>
<li>
<p>The end date of the <code>Repeater</code> to be added is no earlier than its start date.</p>
</li>
<li>
<p>The start date and and end date of the <code>Repeater</code> to be added span no more than 60 months.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Step 8</strong>: <code>AddRepeaterCommand</code> fetches the running <code>RepeaterUniqueId</code> counter tracked by the <code>Model</code>, and sets it as the created <code>Repeater</code>'s unique id.</p>
</div>
<div class="paragraph">
<p><strong>Step 9</strong>: <code>AddRepeaterCommand</code> increments the current <code>RepeaterUniqueId</code> counter in the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 10</strong>: <code>AddRepeaterCommand</code> adds the newly created <code>Repeater</code> to the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 11</strong>: <code>AddRepeaterCommand</code> creates the associated <code>Transaction</code>s in the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 12</strong>: <code>AddRepeaterCommand</code> returns a <code>CommandResult</code> to the <code>LogicManager</code> which is returned back to the user.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="editing-repeater"><a class="link" href="#editing-repeater">4.3.2. Editing Repeater</a></h4>
<div class="paragraph">
<p>This feature allows the user to edit a repeater in IchiFund. Editing a repeater also updates the transactions associated with the added repeater.</p>
</div>
<div class="sect4">
<h5 id="implementation-10"><a class="link" href="#implementation-10">Implementation</a></h5>
<div class="paragraph">
<p>The <code>edit</code> command is facilitated by the Logic and Model components of the application. Given below is an example usage scenario of how <code>edit</code> behaves at each step.</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: In the repeaters tab, the user executes <code>edit 1 a/37.24 so/-1 eo/4</code> to edit the repeater at the 2nd index for an amount of $37.25, occuring only at the fourth last day of every month.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>LogicManager</code> uses <code>IchiFundParser#parserCommand()</code> to parse the input from the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>IchiFundParser</code> determines which command is being used and creates the respective <code>EditRepeaterCommandParser</code> parser with the user&#8217;s input as an argument.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>EditRepeaterCommandParser</code> does a validation check on the user&#8217;s input.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>EditRepeaterCommandParser</code> creates an <code>EditRepeaterDescriptor</code> which contains the updated repeater information provided by the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>: <code>EditRepeaterCommandParser</code> creates and returns an <code>EditRepeaterCommand</code> with the <code>Index</code> and <code>EditRepeaterDescriptor</code> as arguments.</p>
</div>
<div class="paragraph">
<p><strong>Step 7</strong>: <code>LogicManager</code> executes <code>EditRepeaterCommand#execute()</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 8</strong>: <code>EditRepeaterCommand</code> checks for the following constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The updated <code>Repeater</code> does not already exist in the <code>Model</code>.</p>
</li>
<li>
<p>The end date of the updated <code>Repeater</code> is no earlier than its start date.</p>
</li>
<li>
<p>The start date and and end date of the updated <code>Repeater</code> span no more than 60 months.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Step 9</strong>: <code>EditRepeaterCommand</code> creates a new <code>Repeater</code> using the original <code>Repeater</code> and the <code>EditRepeaterDescriptor</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 10</strong>: <code>EditRepeaterCommand</code> replaces the original <code>Repeater</code> in the <code>Model</code> with the newly created <code>Repeater</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 11</strong>: <code>EditRepeaterCommand</code> deletes all existing associated <code>Transaction</code>s from the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 12</strong>: <code>EditRepeaterCommand</code> creates the <code>Transaction</code>s associated with the updated <code>Repeater</code> in the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 13</strong>: <code>EditRepeaterCommand</code> returns a <code>CommandResult</code> to the <code>LogicManager</code> which is returned back to the user.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="deleting-repeater"><a class="link" href="#deleting-repeater">4.3.3. Deleting Repeater</a></h4>
<div class="paragraph">
<p>This feature allows the user to delete repeater in IchiFund. Deleting a repeater also deletes the transactions associated with the deleted repeater.</p>
</div>
<div class="sect4">
<h5 id="implementation-11"><a class="link" href="#implementation-11">Implementation</a></h5>
<div class="paragraph">
<p>The <code>delete</code> command is facilitated by the Logic and Model components of the application. Given below is an example usage scenario of how <code>delete</code> behaves at each step.</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: In the repeaters tab, the user executes <code>delete 2</code> to delete the repeater at the 2nd index.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>LogicManager</code> uses <code>IchiFundParser#parserCommand()</code> to parse the input from the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>IchiFundParser</code> determines which command is being used and creates the respective <code>DeleteRepeaterCommandParser</code> parser with the user&#8217;s input as an argument.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>DeleteRepeaterCommandParser</code> does a validation check on the user&#8217;s input.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>DeleteRepeaterCommandParser</code> creates and returns a <code>DeleteRepeaterCommand</code> with the desired <code>Index</code> as an argument.</p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>: <code>LogicManager</code> calls <code>DeleteRepeaterCommand#execute()</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 7</strong>: <code>DeleteRepeaterCommand</code> checks that a <code>Repeater</code> exists at the <code>Index</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 8</strong>: <code>DeleteRepeaterCommand</code> retrieves the <code>Repeater</code> at the <code>Index</code> from the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 9</strong>: <code>DeleteRepeaterCommand</code> deletes the <code>Repeater</code> from the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 10</strong>: <code>DeleteRepeaterCommand</code> deletes all associated <code>Transaction</code>s in the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 11</strong>: <code>DeleteRepeaterCommand</code> returns a <code>CommandResult</code> to the <code>LogicManager</code> which is returned back to the user.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="finding-repeater"><a class="link" href="#finding-repeater">4.3.4. Finding Repeater</a></h4>
<div class="paragraph">
<p>This feature allows the user to find repeaters in IchiFund. The search by matching provided keywords against repeater descriptions.</p>
</div>
<div class="sect4">
<h5 id="implementation-12"><a class="link" href="#implementation-12">Implementation</a></h5>
<div class="paragraph">
<p>The <code>find</code> command is facilitated by the Logic and Model components of the application. Given below is an example usage scenario of how <code>find</code> behaves at each step.</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: In the repeaters tab, the user executes <code>find phone husband</code> to find all repeaters whose descriptions contain both the keywords "phone" and "husband".</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>LogicManager</code> uses <code>IchiFundParser#parserCommand()</code> to parse the input from the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>IchiFundParser</code> determines which command is being used and creates the respective <code>FindRepeaterCommandParser</code> parser with the user&#8217;s input as an argument.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>FindRepeaterCommandParser</code> does a validation check on the user&#8217;s input.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>FindRepeaterCommandParser</code> creates a <code>RepeaterDescriptionPredicate</code> which filters <code>Repeater</code>s based on whether a <code>Repeater</code> contains all the keywords provided by the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>: <code>FindRepeaterCommandParser</code> creates and returns a <code>FindRepeaterCommand</code> with the <code>RepeaterDescriptionPredicate</code> as an arugment.</p>
</div>
<div class="paragraph">
<p><strong>Step 7</strong>: <code>LogicManager</code> calls <code>FindRepeaterCommand#execute()</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 8</strong>: <code>FindRepeaterCommand</code> sets the <code>RepeaterDescriptionPredicate</code> as the filter for the repeater list in the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 9</strong>: <code>FindRepeaterCommand</code> returns a <code>CommandResult</code> to the <code>LogicManager</code> which is returned back to the user.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="budget"><a class="link" href="#budget">4.4. Budget</a></h3>
<div class="sect3">
<h4 id="adding-budget"><a class="link" href="#adding-budget">4.4.1. Adding Budget</a></h4>
<div class="paragraph">
<p>The add budget feature allows the user to add a budget into IchiFund.
This feature is facilitated by <code>BudgetFeatureParser</code>, <code>AddBudgetCommandParser</code>, and <code>AddBudgetCommand</code>.
The arguments supported by this feature includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Description</code></p>
</li>
<li>
<p><code>Amount</code></p>
</li>
<li>
<p><code>Category</code> (optional)</p>
</li>
<li>
<p><code>Month</code> (optional)</p>
</li>
<li>
<p><code>Year</code> (optional)</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="implementation-13"><a class="link" href="#implementation-13">Implementation</a></h5>
<div class="paragraph">
<p>When the user input the <code>add</code> command in the Budget tab, the following chain of operations occurs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>IchiFundParser</code> will delegate the parsing of the command to <code>BudgetFeatureParser</code> if the current active tab is Budget.</p>
</li>
<li>
<p>The <code>BudgetFeatureParser</code> will delegate the parsing of the arguments to <code>AddBudgetCommandParser</code>.</p>
</li>
<li>
<p><code>AddBudgetCommandParser#parse()</code> will take in a <code>String</code> input consisting of the arguments.</p>
</li>
<li>
<p>This arguments will be tokenized and the respective models for each argument are created.</p>
</li>
<li>
<p>If the parsing of all arguments are successful, a new <code>Budget</code> object is created using the arguments, and a new <code>AddBudgetCommand</code> is returned back to <code>LogicManager</code>.</p>
</li>
<li>
<p>The <code>LogicManager</code> executes <code>AddBudgetCommand#execute()</code>.</p>
</li>
<li>
<p>The newly created <code>Budget</code> is added to the model.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This process is further illustrated in the following sequence diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddBudgetSequenceDiagram.png" alt="AddBudgetSequenceDiagram">
</div>
<div class="title">Figure 16. Sequence Diagram for <code>add</code> Command under Budget Tab</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="analytics"><a class="link" href="#analytics">4.5. Analytics</a></h3>
<div class="sect3">
<h4 id="view-expenditure-trend"><a class="link" href="#view-expenditure-trend">4.5.1. View Expenditure Trend</a></h4>
<div class="paragraph">
<p>The view expenditure trend feature allows the user to view monthly expenditure trend for a year.
This feature is facilitated by <code>AnalyticsFeatureParser</code>, <code>ExpenditureTrendCommandParser</code>, and <code>ExpenditureTrendCommand</code>.
The argument supported by this feature is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Year</code> (optional)</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="implementation-14"><a class="link" href="#implementation-14">Implementation</a></h5>
<div class="paragraph">
<p>When the user input the <code>expenditure</code> command in the Analytics tab, the following chain of operations occurs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>IchiFundParser</code> will delegate the parsing of the command to <code>AnalyticsFeatureParser</code> if the current active tab is Analytics.</p>
</li>
<li>
<p>The <code>AnalyticsFeatureParser</code> will delegate the parsing of the arguments to <code>ExpenditureTrendCommandParser</code>.</p>
</li>
<li>
<p><code>ExpenditureTrendCommandParser#parse()</code> will take in a <code>String</code> input consisting of the arguments.</p>
</li>
<li>
<p>This arguments will be tokenized and the respective models for each argument are created.</p>
</li>
<li>
<p>If the parsing of all arguments are successful, a new <code>ExpenditureTrendCommand</code> is returned back to <code>LogicManager</code>.</p>
</li>
<li>
<p>The <code>LogicManager</code> executes <code>ExpenditureTrendCommand#execute()</code>.</p>
</li>
<li>
<p>The model is updated with the <code>List</code> of <code>Data</code> from the newly created <code>TrendReport</code>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="view-income-trend"><a class="link" href="#view-income-trend">4.5.2. View Income Trend</a></h4>
<div class="paragraph">
<p>The view income trend feature allows the user to view monthly income trend for a year.
This feature is facilitated by <code>AnalyticsFeatureParser</code>, <code>IncomeTrendCommandParser</code>, and <code>IncomeTrendCommand</code>.
The argument supported by this feature is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Year</code> (optional)</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="implementation-15"><a class="link" href="#implementation-15">Implementation</a></h5>
<div class="paragraph">
<p>When the user input the <code>income</code> command in the Analytics tab, the following chain of operations occurs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>IchiFundParser</code> will delegate the parsing of the command to <code>AnalyticsFeatureParser</code> if the current active tab is Analytics.</p>
</li>
<li>
<p>The <code>AnalyticsFeatureParser</code> will delegate the parsing of the arguments to <code>IncomeTrendCommandParser</code>.</p>
</li>
<li>
<p><code>IncomeTrendCommandParser#parse()</code> will take in a <code>String</code> input consisting of the arguments.</p>
</li>
<li>
<p>This arguments will be tokenized and the respective models for each argument are created.</p>
</li>
<li>
<p>If the parsing of all arguments are successful, a new <code>IncomeTrendCommand</code> is returned back to <code>LogicManager</code>.</p>
</li>
<li>
<p>The <code>LogicManager</code> executes <code>IncomeTrendCommand#execute()</code>.</p>
</li>
<li>
<p>The model is updated with the <code>List</code> of <code>Data</code> from the newly created <code>TrendReport</code>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="view-balance-trend"><a class="link" href="#view-balance-trend">4.5.3. View Balance Trend</a></h4>
<div class="paragraph">
<p>The view balance trend feature allows the user to view monthly balance trend for a year.
This feature is facilitated by <code>AnalyticsFeatureParser</code>, <code>BalanceTrendCommandParser</code>, and <code>BalanceTrendCommand</code>.
The argument supported by this feature is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Year</code> (optional)</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="implementation-16"><a class="link" href="#implementation-16">Implementation</a></h5>
<div class="paragraph">
<p>When the user input the <code>balance</code> command in the Analytics tab, the following chain of operations occurs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>IchiFundParser</code> will delegate the parsing of the command to <code>AnalyticsFeatureParser</code> if the current active tab is Analytics.</p>
</li>
<li>
<p>The <code>AnalyticsFeatureParser</code> will delegate the parsing of the arguments to <code>BalanceTrendCommandParser</code>.</p>
</li>
<li>
<p><code>BalanceTrendCommandParser#parse()</code> will take in a <code>String</code> input consisting of the arguments.</p>
</li>
<li>
<p>This arguments will be tokenized and the respective models for each argument are created.</p>
</li>
<li>
<p>If the parsing of all arguments are successful, a new <code>BalanceTrendCommand</code> is returned back to <code>LogicManager</code>.</p>
</li>
<li>
<p>The <code>LogicManager</code> executes <code>BalanceTrendCommand#execute()</code>.</p>
</li>
<li>
<p>The model is updated with the <code>List</code> of <code>Data</code> from the newly created <code>TrendReport</code>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="demo-use-this-as-template-for-your-section"><a class="link" href="#demo-use-this-as-template-for-your-section">4.6. [Demo] Use this as template for your section</a></h3>
<div class="sect3">
<h4 id="proposed-implementation"><a class="link" href="#proposed-implementation">4.6.1. Proposed Implementation</a></h4>
<div class="sect4">
<h5 id="test"><a class="link" href="#test">Test</a></h5>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by <code>VersionedAddressBook</code>.
It extends <code>AddressBook</code> with an undo/redo history, stored internally as an <code>addressBookStateList</code> and <code>currentStatePointer</code>.
Additionally, it implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VersionedAddressBook#commit()</code>&#8201;&#8212;&#8201;Saves the current address book state in its history.</p>
</li>
<li>
<p><code>VersionedAddressBook#undo()</code>&#8201;&#8212;&#8201;Restores the previous address book state from its history.</p>
</li>
<li>
<p><code>VersionedAddressBook#redo()</code>&#8201;&#8212;&#8201;Restores a previously undone address book state from its history.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface as <code>Model#commitAddressBook()</code>, <code>Model#undoAddressBook()</code> and <code>Model#redoAddressBook()</code> respectively.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the undo/redo mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>VersionedAddressBook</code> will be initialized with the initial address book state, and the <code>currentStatePointer</code> pointing to that single address book state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState0.png" alt="UndoRedoState0">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>delete 5</code> command to delete the 5th person in the address book. The <code>delete</code> command calls <code>Model#commitAddressBook()</code>, causing the modified state of the address book after the <code>delete 5</code> command executes to be saved in the <code>addressBookStateList</code>, and the <code>currentStatePointer</code> is shifted to the newly inserted address book state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState1.png" alt="UndoRedoState1">
</div>
</div>
<div class="paragraph">
<p>Step 3. The user executes <code>add n/David &#8230;&#8203;</code> to add a new person. The <code>add</code> command also calls <code>Model#commitAddressBook()</code>, causing another modified address book state to be saved into the <code>addressBookStateList</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState2.png" alt="UndoRedoState2">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not call <code>Model#commitAddressBook()</code>, so the address book state will not be saved into the <code>addressBookStateList</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 4. The user now decides that adding the person was a mistake, and decides to undo that action by executing the <code>undo</code> command. The <code>undo</code> command will call <code>Model#undoAddressBook()</code>, which will shift the <code>currentStatePointer</code> once to the left, pointing it to the previous address book state, and restores the address book to that state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState3.png" alt="UndoRedoState3">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index 0, pointing to the initial address book state, then there are no previous address book states to restore. The <code>undo</code> command uses <code>Model#canUndoAddressBook()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the undo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoSequenceDiagram.png" alt="UndoSequenceDiagram">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>UndoCommand</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>redo</code> command does the opposite&#8201;&#8212;&#8201;it calls <code>Model#redoAddressBook()</code>, which shifts the <code>currentStatePointer</code> once to the right, pointing to the previously undone state, and restores the address book to that state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index <code>addressBookStateList.size() - 1</code>, pointing to the latest address book state, then there are no undone address book states to restore. The <code>redo</code> command uses <code>Model#canRedoAddressBook()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the redo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 5. The user then decides to execute the command <code>list</code>. Commands that do not modify the address book, such as <code>list</code>, will usually not call <code>Model#commitAddressBook()</code>, <code>Model#undoAddressBook()</code> or <code>Model#redoAddressBook()</code>. Thus, the <code>addressBookStateList</code> remains unchanged.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState4.png" alt="UndoRedoState4">
</div>
</div>
<div class="paragraph">
<p>Step 6. The user executes <code>clear</code>, which calls <code>Model#commitAddressBook()</code>. Since the <code>currentStatePointer</code> is not pointing at the end of the <code>addressBookStateList</code>, all address book states after the <code>currentStatePointer</code> will be purged. We designed it this way because it no longer makes sense to redo the <code>add n/David &#8230;&#8203;</code> command. This is the behavior that most modern desktop applications follow.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState5.png" alt="UndoRedoState5">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommitActivityDiagram.png" alt="CommitActivityDiagram">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">4.6.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-undo-redo-executes"><a class="link" href="#aspect-how-undo-redo-executes">Aspect: How undo &amp; redo executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Saves the entire address book.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: May have performance issues in terms of memory usage.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will use less memory (e.g. for <code>delete</code>, just save the person being deleted).</p>
</li>
<li>
<p>Cons: We must ensure that the implementation of each individual command are correct.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-undo-redo-commands"><a class="link" href="#aspect-data-structure-to-support-the-undo-redo-commands">Aspect: Data structure to support the undo/redo commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a list to store the history of address book states.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy for new Computer Science student undergraduates to understand, who are likely to be the new incoming developers of our project.</p>
</li>
<li>
<p>Cons: Logic is duplicated twice. For example, when a new command is executed, we must remember to update both <code>HistoryManager</code> and <code>VersionedAddressBook</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We do not need to maintain a separate list, and just reuse what is already in the codebase.</p>
</li>
<li>
<p>Cons: Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different things.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">4.7. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">Section 4.8, &#8220;Configuration&#8221;</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">4.8. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g user prefs file location, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">5. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Documentation.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">6. Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Testing.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">7. Dev Ops</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="DevOps.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a financially conscious CS undergraduate</p>
<div class="ulist">
<ul>
<li>
<p>has a need to track expenditure and income items</p>
</li>
<li>
<p>has a need to limit expenditure to a budget</p>
</li>
<li>
<p>has a need to quickly analyse how to reduce expenditure</p>
</li>
<li>
<p>has a need to track net worth</p>
</li>
<li>
<p>has a need to track loans and money owed</p>
</li>
<li>
<p>prefers desktop apps over other types</p>
</li>
<li>
<p>can type fast</p>
</li>
<li>
<p>prefers typing over mouse input</p>
</li>
<li>
<p>is reasonably comfortable using CLI apps</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>manage financial transactions faster than a typical mouse/GUI driven app</p>
</li>
<li>
<p>analyse past expenditure, income and balance trends</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see usage instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to instructions when I forget how to use the App</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">record transactions</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edit transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">update any errors made when adding transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view transactions</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">organize transactions by category</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete wrongly added or refunded transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of transaction recurrence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create transaction repeaters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">insert new transaction repeater.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of transaction recurrence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edit transaction repeaters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">update any changes or errors in existing transaction repeaters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of transaction recurrence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete transaction repeaters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete no longer relevant transaction repeaters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of transaction recurrence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">filter transaction repeaters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quickly find transaction repeaters relevant to a search query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of net worth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set my current wealth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of how much money I have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set my monthly expenditure budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of how much I can spend for the month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exclude transaction from budget</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">include transaction to budget</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see an overview of my budget</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is trying to reduce expenditure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my monthly expenditure trends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of how much I spend per month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is trying to reduce expenditure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my expenditure breakdown by category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of how much I spend by category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is trying to reduce expenditure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my expenditure category ranking chart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of my top expenditure categories</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is trying to reduce expenditure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my expenditure ranking chart by month</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of my top expenditure months</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is trying to reduce expenditure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my expenditure ranking chart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of my top expenditures</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of net worth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my monthly income trends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of how much I earn per month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who is keeping track of net worth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my monthly balance trends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of how much I save per month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long-term user who is keeping track of transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find transactions by keyword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">conveniently search for transactions to edit or review</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who wants to keep track of money owed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view all loans</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see all money i am owed or currently owe others</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who wants to keep track of money owed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view all positive loans</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see all money people owe me</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who wants to keep track of money owed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view all negative loans</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see all money i owe people</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who wants to keep track of money owed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">select loans by names/keywords</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see all loans by a particular person</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who wants to keep track of money owed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new loan in the list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a new loan to keep track of</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who wants to keep track of money owed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mark loan as loan paid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove one of the loans</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who wants to keep track of money owed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">paid/add by part</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">some amont of loan is paid off</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user who wants to keep track of money owed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">reminders to pay loans with dates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I can see updates and reminders for urgent loans</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is the <code>IchiFund</code> and the <strong>Actor</strong> is the <code>user</code>, unless specified otherwise)</p>
</div>
<h3 id="use-case-set-current-wealth" class="discrete">Use case: Set current wealth</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to set current wealth.</p>
</li>
<li>
<p>System sets current wealth.</p>
</li>
<li>
<p>System reflects newly set current wealth.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-add-transaction-item" class="discrete">Use case: Add transaction item</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters information about transaction.</p>
</li>
<li>
<p>System creates transaction item.</p>
</li>
<li>
<p>System shows newly updated list of transaction items.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-edit-transaction-item" class="discrete">Use case: Edit transaction item</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User <u>finds transaction item</u>.</p>
</li>
<li>
<p>User specifies transaction to be edited and information to edit.</p>
</li>
<li>
<p>System updates the transaction item.</p>
</li>
<li>
<p>System shows newly updated list of transaction items.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-delete-transaction-item" class="discrete">Use case: Delete transaction item</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User <u>finds transaction item</u>.</p>
</li>
<li>
<p>User specifies transaction to be deleted.</p>
</li>
<li>
<p>System removes the transaction item.</p>
</li>
<li>
<p>System shows newly updated list of transaction items.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-change-filter-of-transaction-list" class="discrete">Use case: Change filter of transaction list</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User specifies month, year, category and/or type of the transaction</p>
</li>
<li>
<p>System updates filter of list of transaction items.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-find-transaction-item" class="discrete">Use case: Find transaction item</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User specifies keywords of the transactions to be found.</p>
</li>
<li>
<p>System updates list of transaction items to show applicable transactions.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-archive-transaction-item" class="discrete">Use case: Archive transaction item</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User specifies index of transaction to be archived</p>
</li>
<li>
<p>System moves transaction to archive.</p>
</li>
<li>
<p>System shows newly updated list of transaction items.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-create-transaction-repeater" class="discrete">Use case: Create transaction repeater</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to create a transaction repeater with specified arguments.</p>
</li>
<li>
<p>System creates the transaction repeater.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-edit-transaction-repeater" class="discrete">Use case: Edit transaction repeater</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to edit a transaction repeated with specified arguments.</p>
</li>
<li>
<p>System updates the transaction repeater.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-delete-transaction-repeaters-including-all-produced-transactions" class="discrete">Use case: Delete transaction repeaters including all produced transactions</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to delete a transaction repeater together with all its produced transactions.</p>
</li>
<li>
<p>System removes existing transactions produced from transaction repeater.</p>
</li>
<li>
<p>System removes transaction repeater.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-filter-transaction-repeaters" class="discrete">Use case: Filter transaction repeaters</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to find transaction repeaters by specified fields.</p>
</li>
<li>
<p>System filters existing transaction repeaters against specified fields.</p>
</li>
<li>
<p>System shows filtered transaction repeaters.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-set-monthly-expenditure-budget" class="discrete">Use case: Set monthly expenditure budget</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to set the monthly expenditure budget.</p>
</li>
<li>
<p>System set the monthly expenditure budget.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-add-loan" class="discrete">Use case: Add loan</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to add a new loan with name, amount and date by.</p>
</li>
<li>
<p>System parses request to retrive details.</p>
</li>
<li>
<p>System adds new loan to list.</p>
</li>
<li>
<p>System updates list and displays what was added.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-view-loans-with-search" class="discrete">Use case: View loans with search</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to search for all loans, with search keywords.</p>
</li>
<li>
<p>System parses and decides the request search constrains.</p>
</li>
<li>
<p>System displays seelected search results.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-mark-loans-as-part-done" class="discrete">Use case: Mark loans as part done</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to mark a lone as paid off.</p>
</li>
<li>
<p>System removes existing loan from the list.</p>
</li>
<li>
<p>System updates the total loan value.</p>
</li>
<li>
<p>System shows the new total loan value, with the new paid off loan.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. System detect an invalid budget amount.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. System shows an error message.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-view-expenditure-trend" class="discrete">Use case: View expenditure trend</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to view expenditure trend over a period.</p>
</li>
<li>
<p>System retrieves expenditure entries for each month in the indicated period.</p>
</li>
<li>
<p>System totals up expenditure for each month in the indicated period.</p>
</li>
<li>
<p>System shows the expenditure totals for each month in the indicated period.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-view-expenditure-breakdown-by-category" class="discrete">Use case: View expenditure breakdown by category</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to view expenditure breakdown by category over a period.</p>
</li>
<li>
<p>System retrieves expenditure entries for each category in the indicated period.</p>
</li>
<li>
<p>System totals up expenditure for each category in the indicated period.</p>
</li>
<li>
<p>System shows the expenditure totals for each category in the indicated period.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-view-expenditure-ranking-chart" class="discrete">Use case: View expenditure ranking chart</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to view expenditure ranking chart over a period.</p>
</li>
<li>
<p>System retrieves all expenditure entries in the indicated period.</p>
</li>
<li>
<p>System sorts expenditure entries in the indicated period.</p>
</li>
<li>
<p>System shows the sorted expenditure entries in the indicated period.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>11</code> or above installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 transactions without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.
<em>{More to be added}</em></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-survey"><a class="link" href="#product-survey">Appendix F: Product Survey</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>DBS digibank SG</strong></p>
</div>
<div class="paragraph">
<p>Author: DBS Bank Ltd</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Links to bank account and PayLah!</p>
</li>
<li>
<p>Shows visual summary of cashflow</p>
</li>
<li>
<p>Automatically categorizes items</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Does not use CLI</p>
</li>
<li>
<p>Does not allow for customisation of transactions beyond categories</p>
</li>
<li>
<p>Does not have a budgeting feature</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">G.1. Launch and Shutdown</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder</p>
</li>
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with a set of sample contacts. The window size may not be optimum.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Saving window preferences</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Resize the window to an optimum size. Move the window to a different location. Close the window.</p>
</li>
<li>
<p>Re-launch the app by double-clicking the jar file.<br>
Expected: The most recent window size and location is retained.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="deleting-a-person"><a class="link" href="#deleting-a-person">G.2. Deleting a person</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deleting a person while all persons are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all persons using the <code>list</code> command. Multiple persons in the list.</p>
</li>
<li>
<p>Test case: <code>delete 1</code><br>
Expected: First contact is deleted from the list. Details of the deleted contact shown in the status message. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code>delete 0</code><br>
Expected: No person is deleted. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect delete commands to try: <code>delete</code>, <code>delete x</code> (where x is larger than the list size) <em>{give more}</em><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="saving-data"><a class="link" href="#saving-data">G.3. Saving data</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Dealing with missing/corrupted data files</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>{explain how to simulate a missing/corrupted file and the expected behavior}</em></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 11:20:07 UTC</div></div></div></body></html>