<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Tan Wei Yang - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">IchiFund</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-W12-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Tan Wei Yang - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-ichifund"><a class="link" href="#project-ichifund">PROJECT: IchiFund</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This portfolio documents my contributions towards the project, IchiFund, which is part of an introductory software
engineering module, CS2103T. My team (of 5) was tasked to morph or enhance an existing address book software.
Our resulting product, IchiFund, is a desktop finance management application for students to manage transactions, budgets and loans.
It is optimised for students that prefer using a CLI.
My role was to develop the <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/UserGuide.html#Transactions">Transactions</a> component of the application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Developed the <code>Model</code>, <code>Logic</code>, <code>Storage</code>, and <code>Ui</code> infrastructure for transactions.</p>
<div class="ulist">
<ul>
<li>
<p>Functionality: Provides the foundation on which features related to transactions, such as <code>add</code>, <code>filter</code>, <code>edit</code> and <code>delete</code>, are built.</p>
</li>
<li>
<p>Justification: The ability to easily create, read, update and delete transactions on the GUI of the application depends on properly
establishing the infrastructure for transaction.</p>
</li>
<li>
<p>Highlights: This enhancement demonstrates a deep understanding of the underlying MVC design pattern of the existing code.
The modifications to the GUI (addition of a filter title and reorganizing information in cells) also demonstrate an understanding of how to work with JavaFX.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement</strong>: Added the ability to <strong>add and filter transactions</strong> with <strong>optional arguments based on the current filter</strong> (enhancement with greatest depth)</p>
<div class="ulist">
<ul>
<li>
<p>Functionality: The <code>filter</code> command changes the existing filter for the list of transactions. The <code>add</code> command adds a transaction to the list of transactions.
If left unfilled, the values taken by the optional arguments are inferred from the current filter.</p>
</li>
<li>
<p>Justification: This add and filter features on their own are basic functionalities of the software. The
implementation of optional arguments filled in based on the current filter allows user to provide minimal information to add
a transaction, which significantly improves user experience.</p>
</li>
<li>
<p>Highlights: This enhancement required the implementation of an intermediate between <code>Model</code> and <code>Logic</code>, <code>TransactionContext</code> for <code>Logic</code> to easily
access information about the current filter used in the list of transactions. Moving forward, this can be generalized to a <code>Context</code> component
that stores read-only information about the state of <code>Model</code> that is vital to the function of <code>Logic</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Added the ability to edit and delete transactions (PR <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/175">#175</a>)</p>
</li>
<li>
<p><strong>Code contributed</strong>: Click <a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#=undefined&amp;search=weiyang13">here</a> to view the code I have contributed on the CS2103T tP Dashboard.</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pulls">pull requests (PRs)</a>,
<a href="https://github.com/AY1920S1-CS2103T-W12-4/main/issues">issue tracker</a> and
<a href="https://github.com/AY1920S1-CS2103T-W12-4/main/milestones">project milestones</a></p>
</li>
<li>
<p>Refactored existing code of Address Book 3 to IchiFund (PR <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/252">#252</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Restructured architecture of code to enable separate parsing for features in different tabs using the same command line
(PR <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/137">#137</a>)</p>
</li>
<li>
<p>Modified sample data for initialization of IchiFund (PR <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/239">#239</a>)</p>
</li>
<li>
<p>Modified documentation on
<a href="https://github.com/AY1920S1-CS2103T-W12-4/main/blob/master/docs/UserGuide.adoc#ichifund-basics">existing features</a>
to be more reader-friendly</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/196">196</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/197">197</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/198">198</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/200">200</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/201">201</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below is a sample of what I have contributed to the User Guide. It showcases my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="addtx"><a class="link" href="#addtx">Creating transaction: <code>add</code></a></h4>
<div class="paragraph">
<p>Format: <code>add de/DESCRIPTION a/AMOUNT [c/CATEGORY] [d/DAY] [m/MONTH] [y/YEAR] [ty/TRANSACTION_TYPE]</code></p>
</div>
<div class="paragraph">
<p>As painful as it is to remind yourself each time you part with your money, it is essential to meticulously
record your transactions. <code>add</code> eases this process.</p>
</div>
<div class="paragraph">
<p>Imagine you are browsing your transactions under the category of "Transportation"
in November. Your GUI may look like this:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/addtx1.png" alt="addtx1" width="480">
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s say you remember that spent $12.31 on lunch on 31 October 2019.
If you want to record this transaction under the category "FOOD", you can enter the full
command <code>add de/Lunch a/12.31 c/food d/31 m/10 y/2019 ty/exp</code>. The application now looks like this:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/addtx2.png" alt="addtx2" width="480">
</div>
</div>
<div class="paragraph">
<p>Here, IchiFund automatically changes the filter for you, so that you can review the addition
you made. This makes it convenient if you want to edit your transactions, as detailed in <a href="#edittx">[edittx]</a></p>
</div>
<div class="paragraph">
<p>Also, note that the transaction appears at the top of the list. This is because we automatically sort
your transactions by date, followed by category, so that you can systematically look through your
transactions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
When specifying whether a transaction is an expenditure item or an income item, use the arguments
<code>ty/exp</code> or <code>ty/in</code> respectively, similar to how would do so in <a href="#filtertx">Filtering Transactions</a>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="optional-arguments"><a class="link" href="#optional-arguments">Optional arguments</a></h5>
<div class="paragraph">
<p>You may find the command used earlier too cumbersome to type. If so, you can leave out some of the optional
arguments. To illustrate this, let&#8217;s return to the earlier scenario:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/addtx1.png" alt="addtx1" width="480">
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s say it is 1 November 2019 today. You have just spent another $10.00 hiring a cab to go to the hospital,
and want to record this transaction under the category of "Transportation". You can simply enter
the command <code>add a/10 de/Cab to hospital</code>, and obtain the following result:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/addtx3.png" alt="addtx3" width="480">
</div>
</div>
<div class="paragraph">
<p>Here, as the month, year, and category arguments are left empty, IchiFund fills it in according to the
filter title. The day argument is taken to be the current day of the month, according to the system date.
IchiFund also assumes that most transactions are expenditure items, and uses that as a default value.</p>
</div>
<div class="paragraph">
<p>The following table summarizes the default values that optional arguments take if left unspecified.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Argument</th>
<th class="tableblock halign-left valign-top">Default values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Day</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to system time and date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Month</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to the filter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Year</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to the filter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to the filter, if applicable, or "Uncategorised" otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to the filter, if applicable, or "exp" otherwise.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title=":bulb:"></i>
</td>
<td class="content">
The default value of the day argument is the current day of month in the system time. Hence, to utilise this
feature to its fullest, you are recommended to add transactions on the day it occurs.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>For more sample contributions refer to the <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/UserGuide.html#Navigation">Navigation</a>
and <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/UserGuide.html#Transactions">Transactions</a> sections of the User Guide.</em></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below is a sample of what I have contributed to the Developer Guide. It showcases my ability to write technical
documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="overviewtx"><a class="link" href="#overviewtx">Overview of the Transactions Model</a></h4>
<div class="sect4">
<h5 id="implementation"><a class="link" href="#implementation">Implementation</a></h5>
<div class="paragraph">
<p>The transactions in IchiFund are represented using the <code>Transaction</code> class. While users are able to edit transactions,
objects of the <code>Transaction</code> class are immutable in the internal structure. The following class diagram summarizes
the details of the <code>Transaction</code> class:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/TransactionClassDiagram.png" alt="TransactionClassDiagram">
</div>
<div class="title">Figure 1. Class Diagram from Transactions Model</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
We differentiate transactions into income and expenditure items using the <code>TransactionType</code> field, which accepts
two unique string values, <code>"in"</code> for income and <code>"exp"</code> for expenditure in the constructor.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition, the list of transactions is subject to a filter created by an immutable <code>TransactionContext</code>.
<code>TransactionContext</code> keeps track of the <code>Month</code>, <code>Year</code>, <code>Category</code> (optional) and <code>TransactionType</code> (optional) in the current filter.
Naturally, this implies that a filter for <code>Month</code> and <code>Year</code> is always applied to the list of transactions.
The <code>TransactionContext</code> is also used to fill in optional fields that are not specified by the user when adding transactions.</p>
</div>
<div class="paragraph">
<p>We summarise the role of the <code>TransactionContext</code> class in the following conceptual class diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/TransactionContextOodm.png" alt="TransactionContextOodm">
</div>
<div class="title">Figure 2. Conceptual Class Diagram of <code>TransactionContext</code></div>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h5>
<div class="paragraph">
<p>We encountered two major decisions when implementing our model for transactions. Here, we discuss the alternatives
we considered, as well as the rationale for the current implementation.</p>
</div>
<div class="sect5">
<h6 id="multiplicity-of-code-category-code"><a class="link" href="#multiplicity-of-code-category-code">Multiplicity of <code>Category</code></a></h6>
<div class="paragraph">
<p>Currently, each <code>Transaction</code> object can have only one <code>Category</code> object associated to it. In the problem domain, it is
also natural to think of transactions being associated with multiple categories. The table below summarizes the pros and cons of each choice.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each <code>Transaction</code> only has one <code>Category</code>  (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Simple to implement. No overlaps in apportionment of expenditure to categories.</p>
<p class="tableblock"><strong>Cons</strong>: Less flexibility for the user to classify transactions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each <code>Transaction</code> can have more than one <code>Category</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: More flexibility for the user to classify transactions.</p>
<p class="tableblock"><strong>Cons</strong>: Overlaps in apportionment of expenditure to categories.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While both implementations are visible, we chose to only have one <code>Category</code> associated to each
<code>Transaction</code> as the absence of overlaps in expenditure allows us to eventually implement a clean visual
breakdown of expenditure by category in the future.
Developers, however, are welcome to implement an additional <code>Tags</code> field for <code>Transaction</code> objects, to allow
for multiple associations.</p>
</div>
</div>
<div class="sect5">
<h6 id="differentiating-between-income-and-expenditure"><a class="link" href="#differentiating-between-income-and-expenditure">Differentiating between Income and Expenditure</a></h6>
<div class="paragraph">
<p>Currently, we differentiate income items from expenditure items using the <code>TransactionType</code> field in
<code>Transaction</code>. We considered the natural alternative of using inheritance as well.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the field <code>TransactionType</code> (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Fits the parsing methods used in the current architecture well.</p>
<p class="tableblock"><strong>Cons</strong>: More tedious to code for different behaviours for income and expenditure items in the future.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using inheritance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Allows for polymorphism of methods from a <code>Transaction</code> interface in the long run.</p>
<p class="tableblock"><strong>Cons</strong>: Requires either the use of separate commands, or asymmetry in the parsing of command arguments.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While it was a tough decision, we eventually decided to use <code>TransactionType</code> for differentiation as we valued maintaining the
symmetry in the implementation of parsing in our current architecture, and we did not want to use separate commands for adding transactions.
Furthermore, we did not envision further use of polymorphism in future developments. Hence the benefit of using inheritance becomes
very limited.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="filtertx"><a class="link" href="#filtertx">Filtering Transactions</a></h4>
<div class="paragraph">
<p>The filter transactions feature allows the user to change the filter for the list of transactions.
As described in <a href="#Design-Logic">[Design-Logic]</a>, this feature is facilitated by <code>TransactionFeatureParser</code>, <code>FilterTransactionCommandParser</code>, and <code>FilterTransactionCommand</code>.
The arguments supported by this feature are: <code>Month</code>, <code>Year</code>, <code>Category</code> and <code>TransactionType</code>. All of these arguments are
optional, but the user has to input at least one argument for the command to be valid.</p>
</div>
<div class="sect4">
<h5 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h5>
<div class="paragraph">
<p>We omit the details of parsing facilitated by <code>IchiFundParser</code>, <code>TransactionFeatureParser</code> and <code>FilterTransactionCommandParser</code>. Instead,
we immediately delve into the details of <code>FilterTransactionCommand#execute</code>.</p>
</div>
<div class="paragraph">
<p>As prefaced in <a href="#overviewtx">Overview of the Transactions Model</a>, the <code>filter</code> command interacts with <code>TransactionContext</code> to filter the list of
transactions exposed to the UI component.
Following the creation of <code>FilterTransactionCommand</code>, the execution of the command results
in the following chain of events:</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: <code>FilterTransactionCommand</code> retrieves the current <code>TransactionContext</code> from the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>FilterTransactionCommand</code> creates a new <code>TransactionContext</code>, facilitated by <code>TransactionContextBuilder</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>FilterTransactionCommand</code> sets the new context in model as the newly created <code>TransactionContext</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>ModelManager</code> retrieves a <code>Predicate&lt;Transaction&gt;</code> from the new <code>TransactionContext</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>ModelManager</code> filters the list of transactions using the <code>Predicate&lt;Transaction&gt;</code>.</p>
</div>
<div class="paragraph">
<p>The above sequence of events is shown in greater detail in the following sequence diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterTransactionSequenceDiagram.png" alt="FilterTransactionSequenceDiagram">
</div>
<div class="title">Figure 3. Sequence Diagram for <code>FilterTransactionCommand</code></div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="addtx"><a class="link" href="#addtx">Adding Transactions</a></h4>
<div class="paragraph">
<p>The add transaction feature allows the user to add a transaction into IchiFund. It further ensures that the current
filter of the list of transactions is changed to allow the user to view the transaction.
As described in <a href="#Design-Logic">[Design-Logic]</a>, this feature is facilitated by <code>TransactionFeatureParser</code>, <code>AddTransactionCommandParser</code>, and <code>AddTransactionCommand</code>.
The arguments supported by this feature are: <code>Description</code>, <code>Amount</code>, <code>Category</code>, <code>Day</code>, <code>Month</code>, <code>Year</code> and <code>TransactionType</code>.
Of these arguments, only <code>Description</code> and <code>Amount</code> are mandatory.</p>
</div>
<div class="sect4">
<h5 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h5>
<div class="paragraph">
<p>We omit the details of parsing facilitated by <code>IchiFundParser</code>, <code>TransactionFeatureParser</code> and <code>AddTransactionCommandParser</code>. Instead,
we immediately delve into the details of the <code>AddTransactionCommand#execute</code>.</p>
</div>
<div class="paragraph">
<p>As prefaced in <a href="#overviewtx">Overview of the Transactions Model</a>, <code>AddTransactionCommand</code> interacts with <code>TransactionContext</code> to generate
a <code>Transaction</code> to be added to the model.
The execution of an <code>AddTransactionCommand</code> results in the following sequence of events:</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: <code>AddTransactionCommand</code> retrieves the current <code>TransactionContext</code> from the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>AddTransactionCommand</code> generates a new <code>Transaction</code> based on the arguments and <code>TransactionContext</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>AddTransactionCommand</code> adds the new <code>Transaction</code> to the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>ModelManager</code> automatically sorts the list of transactions.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>AddTransactionCommand</code> calls model to execute <code>updateTransactionContext</code></p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>: <code>ModelManager</code> updates <code>TransactionContext</code> such that the new <code>Transaction</code> is shown.</p>
</div>
<div class="paragraph">
<p>To create a new <code>Transaction</code>, <code>AddTransactionCommand</code> fills in the missing arguments using
values obtained from <code>TransactionContext</code>, or default values. This is illustrated in the activity diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AddTransactionActivityDiagram.png" alt="AddTransactionActivityDiagram">
</div>
<div class="title">Figure 4. Activity Diagram for Optional Arguments in <code>AddTransactionCommand</code></div>
</div>
<div class="paragraph">
<p>The above activity diagram shows the decision flow for a general optional argument. However, some optional
arguments are never stored in <code>TransactionContext</code>, and some are always stored. The
following table describes the particular details for each optional argument.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 38%;">
<col style="width: 42%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Argument</th>
<th class="tableblock halign-left valign-top">Stored in <code>TransactionContext</code>?</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Day</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Never</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current day of month from system time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Month</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not applicable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Year</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not applicable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Category</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sometimes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uncategorised</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sometimes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expenditure</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>After adding the <code>Transaction</code>, a new <code>TransactionContext</code> is created such that the new <code>Transaction</code> is displayed
on the list of transactions. Specifically, the <code>Month</code> and <code>Year</code> filters are set to the <code>Month</code> and <code>Year</code> of the
new <code>Transaction</code> respectively, and the <code>Category</code> and <code>TransactionType</code> filters are removed if necessary.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h5>
<div class="paragraph">
<p>In implementing the <code>add</code> and <code>filter</code> commands, we had to decide on the underlying data structure for the list of
transactions. Currently, we store all transactions in a single iterable list. Given the use of a mandatory
month and year filter, a natural alternative would be to store each month&#8217;s worth of transactions in a
list, and stores these lists in another list, forming a multi-level list.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storing all transactions in a single list (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Suits existing architecture of software very well, easy to implement</p>
<p class="tableblock"><strong>Cons</strong>: Slow performance anticipated with large number of transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storing transactions in multi-level list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Faster performance, more scalable</p>
<p class="tableblock"><strong>Cons</strong>: May disrupt abstractions in current architecture, more time needed to implement</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ultimately, we decided to avoid disrupting the existing architecture, and instead focus our efforts on
developing more features to better address the needs of the target user profile.</p>
</div>
<div class="paragraph">
<p>However, moving forward, we recognise that the current architecture severely lacks scalability,
especially given the constantly growing number of transactions we expect users to create. Hence, we eventually
intend to switch to a multi-level list.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title=":warning:"></i>
</td>
<td class="content">
Developers who choose to change the underlying data structures should bear in mind that many other components (Repeaters, Budgets, Analytics)
depend on the model of Transactions, and care must be taken to ensure that these components still work well.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>For more sample contributions refer to the <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/DeveloperGuide.html#separate-parsing-and-tab-switching">Separate Parsing and Tab Switching</a>
and <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/DeveloperGuide.html#transaction">Transactions</a> sections of the User Guide.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 09:08:40 UTC</div></div></div></body></html>