<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Tan Wei Yang - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">IchiFund</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-W12-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Tan Wei Yang - Project Portfolio</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The following document is a portfolio of software engineering projects I have participated in. The purpose
of this document is to give an overview of my contributions to these projects, and to thus highlight my
capabilities as a software engineer.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-ichifund"><a class="link" href="#project-ichifund">PROJECT: IchiFund</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>IchiFund is a desktop finance management application for students to manage transactions, budgets and loans.
The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is therefore optimised for
students that</p>
</div>
<div class="paragraph">
<p>My role was to develop the <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/UserGuide.html#Transactions">Transactions</a> component of the application.
This document summarises the contributions I have made to this project within and beyond my role as a developer.</p>
</div>
<div class="sect2">
<h3 id="callouts"><a class="link" href="#callouts">Callouts</a></h3>
<div class="paragraph">
<p>Note the following callouts used in this document:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title=":bulb:"></i>
</td>
<td class="content">
This callout shares informative tips. While these tips are not vital, the information provided may prove useful to you.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
This callout shares noteworthy information that can enhance your understanding of the document.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title=":warning:"></i>
</td>
<td class="content">
This callout highlights vital information. You are encouraged to read the information found here.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Developed the <code>Model</code>, <code>Logic</code>, <code>Storage</code>, and <code>Ui</code> infrastructure for transactions.</p>
<div class="ulist">
<ul>
<li>
<p>Functionality: Provides the foundation on which features related to transactions, such as <code>add</code>, <code>filter</code>, <code>edit</code> and <code>delete</code>, are built.</p>
</li>
<li>
<p>Justification: The ability to easily create, read, update and delete transactions on the GUI of the application depends on properly
establishing the infrastructure for transaction.</p>
</li>
<li>
<p>Highlights: This enhancement demonstrates a deep understanding of the underlying MVC design pattern of the existing code.
The modifications to the GUI (addition of a filter title and reorganizing information in cells) also demonstrate an understanding of how to work with JavaFX.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement</strong>: Added the ability to <strong>add and filter transactions</strong> with <strong>optional arguments based on the current filter</strong> (enhancement with greatest depth)</p>
<div class="ulist">
<ul>
<li>
<p>Functionality: The <code>filter</code> command changes the existing filter for the list of transactions. The <code>add</code> command adds a transaction to the list of transactions.
If left unfilled, the values taken by the optional arguments are inferred from the current filter.</p>
</li>
<li>
<p>Justification: This add and filter features on their own are basic functionalities of the software. The
implementation of optional arguments filled in based on the current filter allows user to provide minimal information to add
a transaction, which significantly improves user experience.</p>
</li>
<li>
<p>Highlights: This enhancement required the implementation of an intermediate between <code>Model</code> and <code>Logic</code>, <code>TransactionContext</code> for <code>Logic</code> to easily
access information about the current filter used in the list of transactions. With further development, this can be generalized to a <code>Context</code> component
that stores read-only information about the state of <code>Model</code> that is vital to the function of <code>Logic</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Added the ability to edit and delete transactions (PR <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/175">#175</a>)</p>
</li>
<li>
<p><strong>Code contributed</strong>: Click <a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#=undefined&amp;search=weiyang13">here</a> to view the code I have contributed on the CS2103T tP Dashboard.</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pulls">pull requests (PRs)</a> by assigning PRs to team members</p>
</li>
<li>
<p>Managed <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/issues">issue tracker</a> by
<a href="https://github.com/AY1920S1-CS2103T-W12-4/main/issues/created_by/weiyang13">authoring issues</a>, assigning issues to team members, labelling
issues, and closing issues</p>
</li>
<li>
<p>Managed <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/milestones">project milestones</a> by creating milestones, assigning issues and PRs to milestones,
and wrapping up milestones</p>
</li>
<li>
<p>Refactored existing code of Address Book 3 to IchiFund (PR <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/252">#252</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Restructured architecture of code to enable separate parsing for features in different tabs using the same command line
(PR <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/137">#137</a>)</p>
</li>
<li>
<p>Modified sample data for initialization of IchiFund (PR <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/239">#239</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Testing:</p>
<div class="ulist">
<ul>
<li>
<p>Added tests for transaction component and parsing (PRs <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/169">#169</a>,
<a href="https://github.com/AY1920S1-CS2103T-W12-4/main/pull/252">#252</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation: hi</p>
<div class="ulist">
<ul>
<li>
<p>Modified the section on <a href="https://github.com/AY1920S1-CS2103T-W12-4/main/blob/master/docs/UserGuide.adoc#ichifund-basics">IchiFund Basics</a>
to be more reader-friendly</p>
</li>
<li>
<p>Wrote the sections on <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/UserGuide.html#Navigation">Navigation</a>
and <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/UserGuide.html#Transactions">Transactions</a> to User Guide</p>
</li>
<li>
<p>Wrote the sections on <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/DeveloperGuide.html#separate-parsing-and-tab-switching">Separate Parsing and Tab Switching</a>
and <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/DeveloperGuide.html#transaction">Transactions</a> in the Developer Guide.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/196">196</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/197">197</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/198">198</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/200">200</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-1/main/issues/201">201</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below is a sample of what I have contributed to the User Guide. It showcases my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="addtx"><a class="link" href="#addtx">Creating transaction: <code>add</code></a></h4>
<div class="paragraph">
<p>Format: <code>add de/DESCRIPTION a/AMOUNT [c/CATEGORY] [d/DAY] [m/MONTH] [y/YEAR] [ty/TRANSACTION_TYPE]</code></p>
</div>
<div class="paragraph">
<p>As painful as it is to remind yourself each time you part with your money, it is essential to meticulously
record your transactions. <code>add</code> eases this process.</p>
</div>
<div class="paragraph">
<p>Imagine you are browsing your transactions under the category of "Transportation"
in November. Your GUI may look like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/addtx1.png" alt="addtx1" width="960">
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s say you remember that spent $12.31 on lunch on 31 October 2019.
If you want to record this transaction under the category "FOOD", you can enter the full
command <code>add de/Lunch a/12.31 c/food d/31 m/10 y/2019 ty/exp</code></p>
</div>
<div class="paragraph">
<p>The application now looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/addtx2.png" alt="addtx2">
</div>
</div>
<div class="paragraph">
<p>Here, IchiFund automatically changes the filter for you, so that you can review the addition
you made. This makes it convenient if you want to edit your transactions, as detailed in <a href="#edittx">[edittx]</a></p>
</div>
<div class="paragraph">
<p>Also, note that the transaction appears at the top of the list. This is because we automatically sort
your transactions by date, followed by category, so that you can systematically look through your
transactions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
When specifying whether a transaction is an expenditure item or an income item, use the arguments
<code>ty/exp</code> or <code>ty/in</code> respectively, similar to how would do so in <a href="#filtertx">Filtering Transactions</a>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="optional-arguments"><a class="link" href="#optional-arguments">Optional arguments</a></h5>
<div class="paragraph">
<p>You may find the command used earlier too cumbersome to type. If so, you can leave out some of the optional
arguments. To illustrate this, let&#8217;s return to the earlier scenario:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/addtx1.png" alt="addtx1">
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s say it is 1 November 2019 today. You have just spent another $10.00 hiring a cab to go to the hospital,
and want to record this transaction under the category of "Transportation". You can simply enter
the command <code>add a/10 de/Cab to hospital</code>, and obtain the following result:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/addtx3.png" alt="addtx3">
</div>
</div>
<div class="paragraph">
<p>Here, as the month, year, and category arguments are left empty, IchiFund fills it in according to the
filter title. The day argument is taken to be the current day of the month, according to the system date.
IchiFund also assumes that most transactions are expenditure items, and uses that as a default value.</p>
</div>
<div class="paragraph">
<p>The following table summarizes the default values that optional arguments take if left unspecified.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Argument</th>
<th class="tableblock halign-left valign-top">Default values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Day</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to system time and date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Month</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to the filter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Year</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to the filter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to the filter, if applicable, or "Uncategorised" otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to the filter, if applicable, or "exp" otherwise.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title=":bulb:"></i>
</td>
<td class="content">
The default value of the day argument is the current day of month in the system time. Hence, to utilise this
feature to its fullest, you are recommended to add transactions on the day it occurs.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="constraints"><a class="link" href="#constraints">Constraints</a></h5>
<div class="paragraph">
<p>The feature for adding transactions is built to work best under these constraints:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Argument</th>
<th class="tableblock halign-left valign-top">Constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Up to 50 alphanumeric characters with spaces; case-sensitive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Positive number with up to 2 decimal places; maximum value of $99999.99 for each transaction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Up to 50 alphanumeric characters with spaces; case-insensitive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Day</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whole number from 1-31</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Month</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whole number from 1-12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Year</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whole number from 2000-9999</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Either "in" or "exp"</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Additionally, the transaction feature works best when the system time functions normally, with no change in time zone.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>For more sample contributions refer to the <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/UserGuide.html#Navigation">Navigation</a>
and <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/UserGuide.html#Transactions">Transactions</a> sections of the User Guide.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below is a sample of what I have contributed to the Developer Guide. It showcases my ability to write technical
documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="separate-parsing-and-tab-switching"><a class="link" href="#separate-parsing-and-tab-switching">Separate Parsing and Tab Switching</a></h4>
<div class="paragraph">
<p>In IchiFund, we separate the features by tabs. This is illustrated in the image below, which displays the five
tabs of IchiFund, with the "Transaction" tab selected:</p>
</div>
<div id="fig-FeatureTabs" class="imageblock">
<div class="content">
<img src="../images/FeatureTabs.png" alt="FeatureTabs">
</div>
<div class="title">Figure 1. Feature Tabs in IchiFund</div>
</div>
<div class="paragraph">
<p>The parsing of commands for each feature is done separately, tied to their respective tabs.
In other words, the commands specific to each feature can only be recognised when the feature is selected as the
current tab.
This allows for the overloading of commands across different features, reducing the complexity of commands for users.</p>
</div>
<div class="sect4">
<h5 id="implementation"><a class="link" href="#implementation">Implementation</a></h5>
<div class="paragraph">
<p>There are two aspects to consider in implementing separate parsing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Detecting when the user switches tabs and communicating this to the <code>Logic</code> component</p>
</li>
<li>
<p>Determining how to parse commands on the end of <code>Logic</code> given which tab is selected.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In our implementation, we first separate the parsing of commands for different features by delegating them to their
respective <code>FeatureParser</code> parsers. The main parser, <code>IchiFundParser</code>, keeps track of all <code>FeatureParser</code> objects, as
well as the <code>FeatureParser</code> that is currently in use.</p>
</div>
<div class="paragraph">
<p>This is illustrated in the object diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ParserObjectDiagram.png" alt="ParserObjectDiagram">
</div>
</div>
<div class="paragraph">
<p>When <code>IchiFundParser</code> parses a command, it first checks whether it is a global command (e.g. <code>help</code>, <code>exit</code>).
Otherwise, it passes the command to <code>currentParserManager</code>, which checks if it is a valid command, and passes the
arguments to the appropriate <code>Parser</code>.</p>
</div>
<div class="paragraph">
<p>What remains is determining when to change <code>currentParserManager</code>. Here, we support 3 modes of tab switching:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Specific commands (CLI)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Users can switch between tabs using specific commands (<code>tx</code>, <code>rep</code>, <code>budget</code>, <code>loan</code>, <code>analytics</code>).</p>
</div>
<div class="paragraph">
<p>These commands are global commands that are directly recognised by <code>IchiFundParser</code>, which changes
<code>currentFeatureParser</code> and the index stored.</p>
</div>
<div class="paragraph">
<p>Much like the <code>Model</code> data, <code>MainWindow</code> listens to changes to the index through <code>FeatureParserIndexListener</code>.
Whenever the value of the index changes, the listener triggers an event to change the tab throw the <code>invalidated()</code>
method shown in the code snippet below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ListenerCodeSnippet.png" alt="ListenerCodeSnippet">
</div>
</div>
<div class="paragraph">
<p>The <code>InvalidationListener</code> constructed from the above code is added to an <code>ObservableValue</code> in <code>MainWindow</code>
that tracks the index of the current <code>FeatureParser</code> used, and changes to the appropriate tab using
the value of the index stored.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Shortcut keys (GUI)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Users can also switch tabs using the shortcut keys <code>Ctrl + 1</code> to <code>Ctrl + 5</code>. Upon using the shortcut keys,
the following handler is triggered:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/MainWindowShortcutKeyCodeSnippet.png" alt="MainWindowShortcutKeyCodeSnippet">
</div>
</div>
<div class="paragraph">
<p>When <code>handleShowTransaction()</code> is called, <code>currentFeatureParser</code> in <code>IchiFundParser</code>, is set to
<code>TransactionFeatureParser</code>, which has a <code>tabIndex</code> of zero. Other handler methods are similar to
<code>handleShowTransaction</code>, with the only difference being the index passed to <code>Logic</code>.</p>
</div>
<div class="paragraph">
<p>The control flow of <code>handleShowTransaction()</code> is illustrated with more details in the sequence diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SetFeatureParserSequenceDiagram.png" alt="SetFeatureParserSequenceDiagram">
</div>
</div>
<div class="paragraph">
<p>As the different <code>FeatureParser</code> objects have different values for <code>tabIndex</code>, a different
index is passed, and a different <code>FeatureParser</code> is set as <code>currentFeatureParser</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
After the handler method is run, the change in <code>IchiFundParser</code> is also detected by
<code>InvalidationListener</code>, which results in a tab switch similar to how the specific commands would.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title=":warning:"></i>
</td>
<td class="content">
For developers who wish to add more features to IchiFund, care has to be taken in ensuring that the indices of the
<code>FeatureParser</code> objects matches that of the tabs, as well as its index in <code>featureParsers</code>.
In our current implementation, we do not use enum for the indices due to the small scale of usage.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Clicking of tabs (GUI)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Users can switch tabs by clicking on the tabs shown in <a href="#fig-FeatureTabs">Feature Tabs in IchiFund</a>.
This triggers a handler, shown in the following code snippet:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/MainWindowMouseCodeSnippet.png" alt="MainWindowMouseCodeSnippet">
</div>
</div>
<div class="paragraph">
<p>The control flow for this handler is similar to that of the shortcut keys.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h5>
<div class="paragraph">
<p>In designing the specific commands for tab switching, we considered an alternative implementation for
passing information about tab switching to <code>Ui</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ui</code> detects change through an <code>InvalidationListener</code> (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: <code>Logic</code> does not need to be aware of <code>Ui</code>.</p>
<p class="tableblock"><strong>Cons</strong>: Requires greater understanding of JavaFX API to implement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Logic</code> directly calls <code>Ui</code> whenever the specific command is made.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Easy to implement.</p>
<p class="tableblock"><strong>Cons</strong>: Creates a dependency from <code>Logic</code> to <code>Ui</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While Alternative 2 is much simpler to implement, we chose Alternative 1
as we prioritised preserving the independence of <code>Logic</code> from <code>Ui</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="overviewtx"><a class="link" href="#overviewtx">Overview of the Transactions Model</a></h4>
<div class="sect4">
<h5 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h5>
<div class="paragraph">
<p>The transactions in IchiFund are represented using the <code>Transaction</code> class. While users are able to edit transactions,
objects of the <code>Transaction</code> class are immutable in the internal structure. The following class diagram summarizes
the details of the <code>Transaction</code> class:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/TransactionClassDiagram.png" alt="TransactionClassDiagram">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
We differentiate transactions into income and expenditure items using the <code>TransactionType</code> field, which accepts
two unique string values, <code>"in"</code> for income and <code>"exp"</code> for expenditure in the constructor.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In addition, the list of transactions is subject to a filter created by an immutable <code>TransactionContext</code>.
<code>TransactionContext</code> keeps track of the <code>Month</code>, <code>Year</code>, <code>Category</code> (optional) and <code>TransactionType</code> (optional) in the current filter.
Naturally, this implies that a filter for <code>Month</code> and <code>Year</code> is always applied to the list of transactions.
We defer the demonstration of how <code>TransactionContext</code> is used to filter the list of transactions to <a href="#filtertx">Filtering Transactions</a></p>
</div>
<div class="paragraph">
<p>The <code>TransactionContext</code> is also used to fill in optional fields that are not specified by the user when adding transactions.
Later, in <a href="#addtx">Creating transaction: <code>add</code></a>, we demonstrate how this is implemented.</p>
</div>
<div class="paragraph">
<p>We summarise the role of the <code>TransactionContext</code> class in the following conceptual class diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/TransactionContextOodm.png" alt="TransactionContextOodm">
</div>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h5>
<div class="paragraph">
<p>We encountered two major decisions when implementing our model for transactions. Here, we discuss the alternatives
we considered, as well as the rationale for the current implementation.</p>
</div>
<div class="sect5">
<h6 id="multiplicity-of-code-category-code"><a class="link" href="#multiplicity-of-code-category-code">Multiplicity of <code>Category</code></a></h6>
<div class="paragraph">
<p>Currently, each <code>Transaction</code> object can have only one <code>Category</code> object associated to it. In the problem domain, it is
also natural to think of transactions being associated with multiple categories. The table below summarizes the pros and cons of each choice.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each <code>Transaction</code> only has one <code>Category</code>  (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Simple to implement. No overlaps in apportionment of expenditure to categories.</p>
<p class="tableblock"><strong>Cons</strong>: Less flexibility for the user to classify transactions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each <code>Transaction</code> can have more than one <code>Category</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: More flexibility for the user to classify transactions.</p>
<p class="tableblock"><strong>Cons</strong>: Overlaps in apportionment of expenditure to categories.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While both implementations are visible, we chose to only have one <code>Category</code> associated to each
<code>Transaction</code> as the absence of overlaps in expenditure allows us to eventually implement a clean visual
breakdown of expenditure by category in the future.</p>
</div>
<div class="paragraph">
<p>Developers, however, are welcome to implement an additional <code>Tags</code> field for <code>Transaction</code> objects, to allow
for multiple associations.</p>
</div>
</div>
<div class="sect5">
<h6 id="differentiating-between-income-and-expenditure"><a class="link" href="#differentiating-between-income-and-expenditure">Differentiating between Income and Expenditure</a></h6>
<div class="paragraph">
<p>Currently, we differentiate transactions that are income items and expenditure items using the <code>TransactionType</code> field in
<code>Transaction</code>. We considered the natural alternative of using inheritance as well.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the field <code>TransactionType</code> (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Fits the parsing methods used in the current architecture well.</p>
<p class="tableblock"><strong>Cons</strong>: More tedious to code for different behaviours for income and expenditure items in the future.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using inheritance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Allows for polymorphism of methods from a <code>Transaction</code> interface in the long run.</p>
<p class="tableblock"><strong>Cons</strong>: Requires either the use of separate commands, or asymmetry in the parsing of command arguments.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>While it was a tough decision, we eventually decided to use <code>TransactionType</code> for differentiation as we valued maintaining the
symmetry in the implementation of parsing in our current architecture, and we did not want to use separate commands for adding transactions.</p>
</div>
<div class="paragraph">
<p>Furthermore, we did not envision further use of polymorphism in future developments. Hence the benefit of using inheritance becomes
very limited.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="filtertx"><a class="link" href="#filtertx">Filtering Transactions</a></h4>
<div class="paragraph">
<p>The filter transactions feature allows the user to change the filter for the list of transactions.
As described in <a href="#Design-Logic">[Design-Logic]</a>, this feature is facilitated by <code>TransactionFeatureParser</code>, <code>FilterTransactionCommandParser</code>, and <code>FilterTransactionCommand</code>.
The arguments supported by this feature includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Month</code> (optional)</p>
</li>
<li>
<p><code>Year</code> (optional)</p>
</li>
<li>
<p><code>Category</code> (optional)</p>
</li>
<li>
<p><code>TransactionType</code> (optional)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Although all arguments are optional, the user has to input at least one argument for the command
to be valid.</p>
</div>
<div class="sect4">
<h5 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h5>
<div class="paragraph">
<p>We omit the details of parsing facilitated by <code>IchiFundParser</code>, <code>TransactionFeatureParser</code> and <code>FilterTransactionCommandParser</code>. Instead,
we immediately delve into the details of <code>FilterTransactionCommand#execute</code>.</p>
</div>
<div class="paragraph">
<p>As prefaced in <a href="#overviewtx">Overview of the Transactions Model</a>, the <code>filter</code> command interacts with <code>TransactionContext</code> to filter the list of
transactions exposed to the UI component.</p>
</div>
<div class="paragraph">
<p>Following the creation of <code>FilterTransactionCommand</code>, the execution of the command results
in the following chain of events:</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: <code>FilterTransactionCommand</code> retrieves the current <code>TransactionContext</code> from the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>FilterTransactionCommand</code> creates a new <code>TransactionContext</code>, facilitated by <code>TransactionContextBuilder</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>FilterTransactionCommand</code> sets the new context in model as the newly created <code>TransactionContext</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>ModelManager</code> retrieves a <code>Predicate&lt;Transaction&gt;</code> from the new <code>TransactionContext</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>ModelManager</code> filters the list of transactions using the <code>Predicate&lt;Transaction&gt;</code>.</p>
</div>
<div class="paragraph">
<p>The above sequence of events is shown in greater detail in the following sequence diagram:
image::FilterTransactionSequenceDiagram.png[]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="addtx"><a class="link" href="#addtx">Adding Transactions</a></h4>
<div class="paragraph">
<p>The add transaction feature allows the user to add a transaction into IchiFund. It further ensures that the current
filter of the list of transactions is changed to allow the user to view the transaction.
As described in <a href="#Design-Logic">[Design-Logic]</a>, this feature is facilitated by <code>TransactionFeatureParser</code>, <code>AddTransactionCommandParser</code>, and <code>AddTransactionCommand</code>.
The arguments supported by this feature includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Description</code></p>
</li>
<li>
<p><code>Amount</code></p>
</li>
<li>
<p><code>Category</code> (optional)</p>
</li>
<li>
<p><code>Day</code> (optional)</p>
</li>
<li>
<p><code>Month</code> (optional)</p>
</li>
<li>
<p><code>Year</code> (optional)</p>
</li>
<li>
<p><code>TransactionType</code> (optional)</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="implementation-4"><a class="link" href="#implementation-4">Implementation</a></h5>
<div class="paragraph">
<p>We omit the details of parsing facilitated by <code>IchiFundParser</code>, <code>TransactionFeatureParser</code> and <code>AddTransactionCommandParser</code>. Instead,
we immediately delve into the details of the <code>AddTransactionCommand#execute</code>.</p>
</div>
<div class="paragraph">
<p>As prefaced in <a href="#overviewtx">Overview of the Transactions Model</a>, <code>AddTransactionCommand</code> interacts with <code>TransactionContext</code> to generate
a <code>Transaction</code> to be added to the model.</p>
</div>
<div class="paragraph">
<p>The execution of an <code>AddTransactionCommand</code> results in the following sequence of events:</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>: <code>AddTransactionCommand</code> retrieves the current <code>TransactionContext</code> from the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: <code>AddTransactionCommand</code> generates a new <code>Transaction</code> based on the arguments and <code>TransactionContext</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: <code>AddTransactionCommand</code> adds the new <code>Transaction</code> to the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>: <code>ModelManager</code> automatically sorts the list of transactions.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>: <code>AddTransactionCommand</code> calls model to execute <code>updateTransactionContext</code></p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>: <code>ModelManager</code> updates <code>TransactionContext</code> such that the new <code>Transaction</code> is shown.</p>
</div>
<div class="paragraph">
<p>When generating a new <code>Transaction</code>, <code>AddTransactionCommand</code> fills in the missing optional arguments by using
values obtained from <code>TransactionContext</code>, or default values. This is illustrated in the following activity diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AddTransactionActivityDiagram.png" alt="AddTransactionActivityDiagram">
</div>
</div>
<div class="paragraph">
<p>The above activity diagram shows the decision flow for a general optional argument. However, some optional
arguments are never stored in <code>TransactionContext</code>, and some are always stored in <code>TransactionContext</code>. The
following table describes the particular details for each optional argument, including the default values.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Argument</th>
<th class="tableblock halign-left valign-top">Present in <code>TransactionContext</code>?</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Day</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Never</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current day of month from system time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Month</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not applicable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Year</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not applicable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Category</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sometimes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uncategorised</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sometimes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expenditure</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>After adding the <code>Transaction</code>, a new <code>TransactionContext</code> is created such that the new <code>Transaction</code> is displayed
on the list of transactions. Specifically, the <code>Month</code> and <code>Year</code> filters are set to the <code>Month</code> and <code>Year</code> of the
new <code>Transaction</code> respectively, and the <code>Category</code> and <code>TransactionType</code> filters are removed if necessary.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h5>
<div class="paragraph">
<p>In implementing the <code>add</code> and <code>filter</code> commands, we had to decide on the underlying data structure for the list of
transactions. Currently, we store all transactions in a single iterable list. Given the use of a mandatory
month and year filter, a natural alternative would be to store each month&#8217;s worth of transactions in a
list, and stores these lists in another list, forming a multi-level list.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Description of Implementation</th>
<th class="tableblock halign-left valign-top">Pros and Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storing all transactions in a single list (current choice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Suits existing architecture of software very well, easy to implement</p>
<p class="tableblock"><strong>Cons</strong>: Slow performance anticipated with large number of transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storing transactions in multi-level list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong>: Faster performance, more scalable</p>
<p class="tableblock"><strong>Cons</strong>: May disrupt abstractions in current architecture, more time needed to implement</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ultimately, we prioritised developing a minimal viable product for v1.4, and decided to avoid disrupting the
existing architecture, and instead focus our efforts on developing more features to better address the needs of
the target user profile.</p>
</div>
<div class="paragraph">
<p>However, moving forward, we recognise that the current architecture severely lacks scalability,
especially given the constantly growing number of transactions we expect users to create. Hence, we eventually
intend to switch to a multi-level list.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title=":warning:"></i>
</td>
<td class="content">
Developers who choose to change the underlying data structures should bear in mind that many other components (Repeaters, Budgets, Analytics)
depend on the model of Transactions, and care must be taken to ensure that these components still work well.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>For more sample contributions refer to the <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/DeveloperGuide.html#separate-parsing-and-tab-switching">Separate Parsing and Tab Switching</a>
and <a href="https://ay1920s1-cs2103t-w12-4.github.io/main/DeveloperGuide.html#transaction">Transactions</a> sections of the User Guide.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-10 21:05:45 UTC</div></div></div></body></html>